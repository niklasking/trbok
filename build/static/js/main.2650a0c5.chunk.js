(this.webpackJsonptrbok=this.webpackJsonptrbok||[]).push([[0],{175:function(e,t){e.exports={clientID:"59119",clientSecret:"683dde428eff95f3c3e5c34cbfc554f3a3683fb5"}},178:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),i=a.n(n),r=a(14),l=a.n(r),d=a(9),c=a.n(d),o=a(16),h=a(20),p=a(21),j=a(23),g=a(22),u=a(90),m=a(15),b=a(26),x=a.n(b),v=a(7),O=a.n(v),f=a(239),y=a(240),k=a(231),C=a(56),D=a(221),I=a(120),S=a.n(I),H=a(241),w=a(121),Y=a.n(w),E=a(68),M=a.n(E),T=a(247),P=a(217),N=a(244),R=a(214),W=a(181),L=a(216),A=a(215);function q(){return Object(s.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(s.jsx)(R.a,{color:"inherit",href:"http://www.okorion.com/",children:"OK Orion Stars FC"})," ",(new Date).getFullYear(),"."]})}var U=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random?running)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function _(e){var t=U(),a=function(){var t=Object(o.a)(c.a.mark((function t(a){var s,n,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=a.target.elements,n=s.email,i=s.password,t.next=4,x.a.post("https://trbokbackend.niklasking.com/api/v1/login",{username:n.value,password:i.value});case 4:(r=t.sent).data.success?e.setLoggedInUser(r.data.user):console.log(r.data.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsxs)(L.a,{container:!0,component:"main",className:t.root,children:[Object(s.jsx)(P.a,{}),Object(s.jsx)(L.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(s.jsx)(L.a,{item:!0,xs:12,sm:8,md:5,component:W.a,elevation:6,square:!0,children:Object(s.jsxs)("div",{className:t.paper,children:[Object(s.jsx)(T.a,{className:t.avatar,children:Object(s.jsx)(M.a,{})}),Object(s.jsx)(C.a,{component:"h1",variant:"h5",children:"Logga in"}),Object(s.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:a,children:[Object(s.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mailadress eller anv\xe4ndarnamn",name:"email",autoComplete:"email",autoFocus:!0}),Object(s.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"L\xf6senord",type:"password",id:"password",autoComplete:"current-password"}),!1,Object(s.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Logga in"}),Object(s.jsxs)(L.a,{container:!0,children:[Object(s.jsx)(L.a,{item:!0,xs:!0,children:Object(s.jsx)(R.a,{href:"#",variant:"body2",children:"Gl\xf6mt l\xf6senordet?"})}),Object(s.jsx)(L.a,{item:!0,children:Object(s.jsx)(R.a,{href:"/register",variant:"body2",children:"Registrera en ny anv\xe4ndare"})})]}),Object(s.jsx)(H.a,{mt:5,children:Object(s.jsx)(q,{})})]})]})})]})}var F=a(69),G=a.n(F),K=a(225),V=a(229),B=a(236),Q=a(226),$=a(227),J=a(228),z=a(42),X=a.n(z),Z=a(41),ee=a.n(Z),te=a(245),ae=a(242),se=a(246),ne=a(232),ie=a(233),re=a(234),le=a(224),de=a(230),ce=a(50),oe=a.n(ce),he=a(51),pe=a.n(he),je=a(35),ge=a.n(je),ue=a(52),me=a.n(ue),be=a(54),xe=a.n(be),ve=a(53),Oe=a.n(ve),fe=a(49),ye=a.n(fe),ke=a(116),Ce=a.n(ke),De=a(85),Ie=a.n(De),Se=a(117),He=a.n(Se),we=a(118),Ye=a.n(we),Ee=a(220),Me=a(182),Te=a(222),Pe=a(223),Ne=a(112),Re=a.n(Ne),We=a(113),Le=a.n(We);var Ae=function(e){var t=e.onClose,a=e.selectedValue,n=e.open,i=function(e){t(e)};return Object(s.jsx)(se.a,{onClose:function(){t(a)},"aria-labelledby":"simple-dialog-title",open:n,children:Object(s.jsxs)(Ee.a,{children:[!e.emptyDay&&Object(s.jsxs)(Me.a,{autoFocus:!0,button:!0,onClick:function(){return i("editEvent")},children:[Object(s.jsx)(Te.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Re.a,{})})}),Object(s.jsx)(Pe.a,{primary:"\xc4ndra aktiviteten"})]}),Object(s.jsxs)(Me.a,{autoFocus:!0,button:!0,onClick:function(){return i("addEvent")},children:[Object(s.jsx)(Te.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Le.a,{})})}),Object(s.jsx)(Pe.a,{primary:"L\xe4gg till en aktiviteten"})]}),!e.emptyDay&&Object(s.jsxs)(Me.a,{autoFocus:!0,button:!0,onClick:function(){return i("deleteEvent")},children:[Object(s.jsx)(Te.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Ie.a,{})})}),Object(s.jsx)(Pe.a,{primary:"Ta bort aktiviteten"})]}),Object(s.jsxs)(Me.a,{autoFocus:!0,button:!0,onClick:function(){return i("strava")},children:[Object(s.jsx)(Te.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)("img",{src:"/strava.png",alt:"Strava",height:39,width:39})})}),Object(s.jsx)(Pe.a,{primary:"Synka fr\xe5n Strava"})]})]})})},qe=a(114),Ue=a.n(qe),_e=a(115),Fe=a.n(_e),Ge={cell:{borderRight:"1px solid gray",padding:"5px"},cellPlanned:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"lightBlue"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"30px"},dataCell:{borderRight:"1px solid gray",padding:"5px",width:"80px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellPlanned:{borderRight:"1px solid gray",padding:"0",width:"20px",backgroundColor:"lightBlue"},checkbox:{width:"16px",height:"16px"}},Ke=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={plannedIsHidden:!1,performedIsHidden:!1,typePlanned:"",movingTimePlanned:"",distancePlanned:0,type:"Run",movingTime:"",distance:0,ol:!1,night:!1,quality:!1,lsd:!1,strength:!1,alternative:!1,forest:!1,path:!1},e.hidePlanned=function(){e.setState({plannedIsHidden:!0})},e.showPlanned=function(){e.setState({plannedIsHidden:!1})},e.hidePerformed=function(){e.setState({performedIsHidden:!0})},e.showPerformed=function(){e.setState({performedIsHidden:!1})},e.handleCloseNok=function(){e.props.handleAddEventClose({item:{saveStatus:!1}})},e.handleCloseOk=function(){if(!e.validatePlannedDistance()&&!e.validatePlannedMovingTime()&&!e.validateDistance()&&!e.validateMovingTime()){var t={saveStatus:!0,startDate:e.props.dayDate,typePlanned:e.state.typePlanned,movingTimePlanned:e.state.movingTimePlanned,distancePlanned:e.state.distancePlanned,name:e.state.name,type:!1===e.state.type?"Run":e.state.type,movingTime:e.state.movingTime,distance:e.state.distance,ol:e.state.ol,night:e.state.night,quality:e.state.quality,lsd:e.state.lsd,strength:e.state.strength,alternative:e.state.alternative,forest:e.state.forest,path:e.state.path};e.props.handleAddEventClose({item:t})}},e.validatePlannedDistance=function(){return isNaN(e.state.distancePlanned)},e.correctPlannedDistance=function(t){e.setState({distancePlanned:t.target.value.replace(/[^\d.-]/g,"")})},e.validateDistance=function(){return isNaN(e.state.distance)},e.correctDistance=function(t){e.setState({distance:t.target.value.replace(/[^\d.-]/g,"")})},e.validatePlannedMovingTime=function(){return!e.state.movingTimePlanned.match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctPlannedMovingTime=function(t){e.setState({movingTimePlanned:t.target.value.replace(/[^\d:]/g,"")})},e.validateMovingTime=function(){return!e.state.movingTime.match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctMovingTime=function(t){e.setState({movingTime:t.target.value.replace(/[^\d:]/g,"")})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(se.a,{open:this.props.open,fullScreen:!0,style:{padding:10},children:[Object(s.jsx)(le.a,{children:"L\xe4gg till en ny aktivitet"}),Object(s.jsxs)(K.a,{"aria-label":"spanning table",style:{borderTop:"1px solid gray"},children:[Object(s.jsxs)(Q.a,{children:[Object(s.jsxs)($.a,{children:[Object(s.jsx)(J.a,{rowSpan:2,style:Ge.dateCell,align:"left",children:"Datum"}),this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.hiddenCellPlanned,children:Object(s.jsx)(D.a,{onClick:this.showPlanned,children:Object(s.jsx)(ee.a,{})})}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{colSpan:4,style:Ge.cellPlanned,children:Object(s.jsxs)(H.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(H.a,{p:1,flexGrow:1,padding:0,children:"Planerad"}),Object(s.jsx)(H.a,{p:1,padding:0,children:Object(s.jsx)(D.a,{onClick:this.hidePlanned,children:Object(s.jsx)(X.a,{})})})]})}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.hiddenCell,children:Object(s.jsx)(D.a,{onClick:this.showPerformed,children:Object(s.jsx)(ee.a,{})})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{colSpan:12,style:Ge.cell,children:Object(s.jsxs)(H.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(H.a,{p:1,flexGrow:1,padding:0,children:"Utf\xf6rd"}),Object(s.jsx)(H.a,{p:1,padding:0,children:Object(s.jsx)(D.a,{onClick:this.hidePerformed,children:Object(s.jsx)(X.a,{})})})]})})]}),Object(s.jsxs)($.a,{children:[this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.hiddenCellPlanned}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.cellPlanned,children:"Beskrivning"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.cellPlanned,children:"Typ"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:Ge.cellPlanned,children:"L\xe4ngd"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:Ge.cellPlanned,children:"Tid"}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.cell,children:"Beskrivning"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.cell,children:"Typ"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"OL"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"Natt"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"Q"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"LP"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"Sty"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"Alt"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"Skog"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:"Stig"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:Ge.cell,children:"L\xe4ngd"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:Ge.cell,children:"Tid"})]})]}),Object(s.jsx)(V.a,{children:Object(s.jsxs)($.a,{children:[Object(s.jsx)(J.a,{style:Ge.dateCell,align:"left",children:this.props.dayDate}),this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.hiddenCell}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.namePlanned,onChange:function(t){return e.setState({namePlanned:t.target.value})}})}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.cell,children:Object(s.jsxs)(ae.a,{defaultValue:"",onChange:function(t){return e.setState({type:t.target.valuePlanned})},children:[Object(s.jsxs)(de.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(de.a,{value:"night",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(de.a,{value:"Run",children:[Object(s.jsx)(oe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(de.a,{value:"Ride",children:[Object(s.jsx)(ge.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(de.a,{value:"VirtualRide",children:[Object(s.jsx)(ge.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(de.a,{value:"WeightTraining",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(de.a,{value:"Swim",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(de.a,{value:"Workout",children:[Object(s.jsx)(Oe.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(de.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(de.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(de.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(de.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.distancePlanned,onChange:this.correctPlannedDistance,error:this.validatePlannedDistance(),helperText:this.validatePlannedDistance()?"Fel":" "})}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:Ge.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTimePlanned,onChange:this.correctPlannedMovingTime,error:this.validatePlannedMovingTime(),helperText:this.validatePlannedMovingTime()?"Fel":" "})}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.cell,children:Object(s.jsxs)(ae.a,{defaultValue:"Run",onChange:function(t){return e.setState({type:t.target.value})},children:[Object(s.jsxs)(de.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(de.a,{value:"night",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(de.a,{value:"Run",children:[Object(s.jsx)(oe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(de.a,{value:"Ride",children:[Object(s.jsx)(ge.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(de.a,{value:"VirtualRide",children:[Object(s.jsx)(ge.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(de.a,{value:"WeightTraining",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(de.a,{value:"Swim",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(de.a,{value:"Workout",children:[Object(s.jsx)(Oe.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(de.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(de.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(de.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(de.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.ol,onChange:function(t){return e.setState({ol:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.night,onChange:function(t){return e.setState({night:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.quality,onChange:function(t){return e.setState({quality:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.lsd,onChange:function(t){return e.setState({lsd:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.strength,onChange:function(t){return e.setState({strength:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.alternative,onChange:function(t){return e.setState({alternative:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.forest,onChange:function(t){return e.setState({forest:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:Ge.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.path,onChange:function(t){return e.setState({path:t.target.checked})},style:Ge.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.distance,onChange:this.correctDistance,error:this.validateDistance(),helperText:this.validateDistance()?"Fel":" "})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:Ge.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTime,onChange:this.correctMovingTime,error:this.validateMovingTime(),helperText:this.validateMovingTime()?"Fel":" "})})]},this.props.dayDate)})]}),Object(s.jsxs)(ne.a,{children:[Object(s.jsx)(D.a,{onClick:this.handleCloseOk,color:"primary",startIcon:Object(s.jsx)(Ue.a,{}),children:"Spara"}),Object(s.jsx)(D.a,{onClick:this.handleCloseNok,color:"primary",startIcon:Object(s.jsx)(Fe.a,{}),children:"\xc5ngra"})]})]})}}]),a}(i.a.Component),Ve=a(235),Be="https://trbokbackend.niklasking.com";function Qe(e){return 0===e?"":O.a.duration(e,"seconds").format("H:mm")}function $e(e){var t="";if(e.indexOf(":")>0?t=":":e.indexOf(".")>0?t=".":e.indexOf(",")>0&&(t=","),""!==t){var a=e.split(t);return 60*parseInt(a[0])*60+60*parseInt(a[1])}return 60*parseInt(e)}function Je(e){switch(e){case"ol":return Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16,style:{border:"solid black 1px"}});case"night":return Object(s.jsx)(ye.a,{});case"Run":return Object(s.jsx)(oe.a,{});case"WeightTraining":return Object(s.jsx)(pe.a,{});case"Workout":return Object(s.jsx)(Oe.a,{});case"Ride":case"VirtualRide":return Object(s.jsx)(ge.a,{});case"Swim":return Object(s.jsx)(me.a,{});case"Walk":return Object(s.jsx)(xe.a,{});case"Rowing":case"Kayaking":return Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16});case"NordicSki":case"RollerSki":return Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16});default:return e}}G()(O.a);var ze=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isEditing:!1,isAdding:!1,name:"",movingTime:0,distance:0,type:"",ol:!1,night:!1,quality:!1,lsd:!1,strength:!1,alternative:!1,forest:!1,path:!1,openEditEventDialog:!1,openDeleteWarningDialog:!1},e.getStravaEventOneDay=Object(o.a)(c.a.mark((function t(){var a,s,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O()(e.props.dayDate+" 00:00:00").unix(),s=O()(e.props.dayDate+" 23:59:59").unix(),n=Be+"/api/v1/strava/activities/between?before="+s+"&after="+a+"&stravaId="+e.props.user.stravaId,t.next=5,x.a.get(n);case 5:t.sent,e.props.upDatePage();case 7:case"end":return t.stop()}}),t)}))),e.handleCloseEditEventDialog=function(t){switch(e.setState({openEditEventDialog:!1}),t){case"editEvent":e.setState({isEditing:!0});break;case"addEvent":e.props.eventData.key.startsWith("empty_")?e.setState({isEditing:!0}):e.setState({isAdding:!0});break;case"deleteEvent":e.setState({openDeleteWarningDialog:!0});break;case"strava":e.getStravaEventOneDay()}},e.handleCloseDeleteWarningDialogOk=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({openDeleteWarningDialog:!1}),a=Be+"/api/v1/activities/"+e.props.eventData.key,t.next=4,x.a.delete(a);case 4:e.props.upDatePage();case 5:case"end":return t.stop()}}),t)}))),e.handleCloseDeleteWarningDialogNok=function(){e.setState({openDeleteWarningDialog:!1})},e.setEditMode=function(){e.setState({name:e.props.eventData.name}),e.setState({openEditEventDialog:!0})},e.handleAddEventClose=function(){var t=Object(o.a)(c.a.mark((function t(a){var s,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isAdding:!1}),!a.item.saveStatus){t.next=8;break}return s="night"===a.item.type?1:a.item.night,n={startDate:e.props.dayDate,user:e.props.user,name:a.item.name,distance:1e3*a.item.distance,movingTime:$e(a.item.movingTime),type:a.item.type,ol:a.item.ol,night:s,quality:a.item.quality,lsd:a.item.lsd,strength:a.item.strength,alternative:a.item.alternative,forest:a.item.forest,path:a.item.path},Be+"/api/v1/activities",t.next=7,x.a.post("https://trbokbackend.niklasking.com/api/v1/activities",n);case 7:e.props.upDatePage();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cancelEditMode=function(){e.setState({isEditing:!1})},e.saveEvent=Object(o.a)(c.a.mark((function t(){var a,s,n,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.validateDistance()){t.next=2;break}return t.abrupt("return");case 2:if(!e.validateMovingTime()){t.next=4;break}return t.abrupt("return");case 4:if(!e.props.eventData.key.startsWith("empty_")){t.next=12;break}return a="night"===e.state.type?1:e.state.night,s={startDate:e.props.dayDate,_id:e.props.eventData.key,date:e.props.eventData.date,user:e.props.user,name:e.state.name,distance:1e3*e.state.distance,movingTime:$e(e.state.movingTime),type:e.state.type,ol:e.state.ol,night:a,quality:e.state.quality,lsd:e.state.lsd,strength:e.state.strength,alternative:e.state.alternative,forest:e.state.forest,path:e.state.path},Be+"/api/v1/activities",t.next=10,x.a.post("https://trbokbackend.niklasking.com/api/v1/activities",s);case 10:t.next=18;break;case 12:return n="ol"===e.state.type||"night"===e.state.type?1:e.state.ol,i="night"===e.state.type?1:e.state.night,r={_id:e.props.eventData.key,date:e.props.eventData.date,user:e.props.user,name:e.state.name,distance:1e3*e.state.distance,movingTime:$e(e.state.movingTime),type:e.state.type,ol:n,night:i,quality:e.state.quality,lsd:e.state.lsd,strength:e.state.strength,alternative:e.state.alternative,forest:e.state.forest,path:e.state.path},Be+"/api/v1/activities",t.next=18,x.a.patch("https://trbokbackend.niklasking.com/api/v1/activities",r);case 18:e.setState({isEditMode:!1}),e.setState({isEditing:!1}),e.setState({isAdding:!1}),e.props.upDatePage();case 22:case"end":return t.stop()}}),t)}))),e.validateDistance=function(){return isNaN(e.state.distance)},e.correctDistance=function(t){e.setState({distance:t.target.value.replace(/[^\d.-]/g,"")})},e.validateMovingTime=function(){return!e.state.movingTime.match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctMovingTime=function(t){e.setState({movingTime:t.target.value.replace(/[^\d:]/g,"")})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({movingTime:Qe(this.props.eventData.movingTime)}),this.setState({distance:Math.round(100*this.props.eventData.distance/1e3)/100}),this.setState({type:this.props.eventData.type}),this.setState({ol:1===this.props.eventData.ol}),this.setState({night:1===this.props.eventData.night}),this.setState({quality:1===this.props.eventData.quality}),this.setState({lsd:1===this.props.eventData.lsd}),this.setState({strength:1===this.props.eventData.strength}),this.setState({alternative:1===this.props.eventData.alternative}),this.setState({forest:1===this.props.eventData.forest}),this.setState({path:1===this.props.eventData.path})}},{key:"render",value:function(){var e,t=this,a={cell:{borderRight:"1px solid gray",padding:"5px"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"30px"},dataCell:{borderRight:"1px solid gray",padding:"5px",width:"80px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},checkbox:{width:"16px",height:"16px"}};return Object(s.jsxs)($.a,{children:[!this.state.isEditing&&Object(s.jsx)(J.a,{style:a.editCell,align:"center",children:Object(s.jsx)(Ce.a,{onClick:this.setEditMode})}),this.props.eventData.key.startsWith("empty_")&&Object(s.jsx)(Ae,{open:this.state.openEditEventDialog,onClose:this.handleCloseEditEventDialog,emptyDay:!0}),!this.props.eventData.key.startsWith("empty_")&&Object(s.jsx)(Ae,{open:this.state.openEditEventDialog,onClose:this.handleCloseEditEventDialog,emptyDay:!1}),Object(s.jsxs)(se.a,{open:this.state.openDeleteWarningDialog,onClose:this.handleCloseDeleteWarningDialogNok,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(s.jsx)(le.a,{id:"alert-dialog-title",children:"Ta bort aktivitet?"}),Object(s.jsx)(ie.a,{children:Object(s.jsxs)(re.a,{id:"alert-dialog-description",children:["\xc4r du s\xe4kert p\xe5 att du vill ta bort aktivitet:",Object(s.jsx)("br",{}),this.props.dayDate," - ",this.props.eventData.name,"?"]})}),Object(s.jsxs)(ne.a,{children:[Object(s.jsx)(D.a,{onClick:this.handleCloseDeleteWarningDialogOk,color:"primary",startIcon:Object(s.jsx)(Ie.a,{}),children:"Ja"}),Object(s.jsx)(D.a,{onClick:this.handleCloseDeleteWarningDialogNok,color:"primary",autoFocus:!0,startIcon:Object(s.jsx)(Ve.a,{}),children:"Nej"})]})]}),this.state.isAdding&&Object(s.jsx)(Ke,{handleAddEventClose:this.handleAddEventClose,open:this.state.isAdding,dayDate:this.props.dayDate}),this.state.isEditing&&Object(s.jsxs)(J.a,{style:a.editCell,align:"center",children:[Object(s.jsx)(He.a,{onClick:this.saveEvent}),Object(s.jsx)(Ye.a,{onClick:this.cancelEditMode})]}),this.props.eventData.dateRowSpan>0&&Object(s.jsx)(J.a,{rowSpan:this.props.eventData.dateRowSpan,style:a.dateCell,align:"left",children:this.props.eventData.date}),this.props.eventData.plannedIsHidden&&Object(s.jsx)(J.a,{style:a.hiddenCell}),!this.props.eventData.plannedIsHidden&&Object(s.jsx)(J.a,{colSpan:"4",style:a.cell}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:a.cell,children:this.props.eventData.name}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.cell,children:Je(this.props.eventData.type)}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.ol&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.ol&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.night&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.night&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.quality&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.quality&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.lsd&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.lsd&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.strength&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.strength&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.alternative&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.alternative&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.forest&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.forest&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.path&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:a.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.path&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:a.cell,children:(e=this.props.eventData.distance,0===e?"":e<1e3?e+" m":Math.round(100*e/1e3)/100+" km")}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:a.cell,children:Qe(this.props.eventData.movingTime)}),this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:a.cell,colSpan:"12"}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:a.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})},name:"nameField"})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:a.cell,children:Object(s.jsxs)(ae.a,{defaultValue:this.props.eventData.type,onChange:function(e){return t.setState({type:e.target.value})},children:[Object(s.jsxs)(de.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(de.a,{value:"night",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(de.a,{value:"Run",children:[Object(s.jsx)(oe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(de.a,{value:"Ride",children:[Object(s.jsx)(ge.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(de.a,{value:"VirtualRide",children:[Object(s.jsx)(ge.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(de.a,{value:"WeightTraining",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(de.a,{value:"Swim",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(de.a,{value:"Workout",children:[Object(s.jsx)(Oe.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(de.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(de.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(de.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(de.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.ol,onChange:function(e){return t.setState({ol:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.night,onChange:function(e){return t.setState({night:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.quality,onChange:function(e){return t.setState({quality:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.lsd,onChange:function(e){return t.setState({lsd:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.strength,onChange:function(e){return t.setState({strength:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.alternative,onChange:function(e){return t.setState({alternative:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.forest,onChange:function(e){return t.setState({forest:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:a.smallCell,children:Object(s.jsx)(te.a,{checked:this.state.path,onChange:function(e){return t.setState({path:e.target.checked})},style:a.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:a.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.distance,onChange:this.correctDistance,error:this.validateDistance(),helperText:this.validateDistance()?"Fel":" "})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:a.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTime,onChange:this.correctMovingTime,error:this.validateMovingTime(),helperText:this.validateMovingTime()?"Fel":" "})})]},this.props.eventData.key)}}]),a}(i.a.Component),Xe=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){if(0===this.props.events.length){var e={key:"empty_"+this.props.date,dateRowSpan:1,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:"Vila",type:"",distance:0,movingTime:0,title:"",ol:0,night:0,quality:0,lsd:0,strength:0,alternative:0,forest:0,path:0};return Object(s.jsx)(ze,{dayDate:this.props.date,eventData:e,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+e.key)}var t=[],a={key:this.props.events[0]._id,dateRowSpan:this.props.events.length,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[0].name,type:this.props.events[0].type,distance:this.props.events[0].distance,movingTime:this.props.events[0].movingTime,title:this.props.events[0].title,ol:this.props.events[0].ol,night:this.props.events[0].night,quality:this.props.events[0].quality,lsd:this.props.events[0].lsd,strength:this.props.events[0].strength,alternative:this.props.events[0].alternative,forest:this.props.events[0].forest,path:this.props.events[0].path};t.push(Object(s.jsx)(ze,{dayDate:this.props.date,eventData:a,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+a.key));for(var i=1;i<this.props.events.length;i++){var r={key:this.props.events[i]._id,dateRowSpan:0,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[i].name,type:this.props.events[i].type,distance:this.props.events[i].distance,movingTime:this.props.events[i].movingTime,title:this.props.events[i].title,ol:this.props.events[i].ol,night:this.props.events[i].night,quality:this.props.events[i].quality,lsd:this.props.events[i].lsd,strength:this.props.events[i].strength,alternative:this.props.events[i].alternative,forest:this.props.events[i].forest,path:this.props.events[i].path};t.push(Object(s.jsx)(ze,{dayDate:this.props.date,eventData:r,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+r.key))}return Object(s.jsx)(n.Fragment,{children:t})}}]),a}(i.a.Component);G()(O.a);var Ze=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={plannedIsHidden:!1,performedIsHidden:!1},e.hidePlanned=function(){e.setState({plannedIsHidden:!0})},e.showPlanned=function(){e.setState({plannedIsHidden:!1})},e.hidePerformed=function(){e.setState({performedIsHidden:!0})},e.showPerformed=function(){e.setState({performedIsHidden:!1})},e.getWeekLength=function(e){var t=0;return e.map((function(e){var a=e.distance;return t+=a})),t<1e3?t+" m":Math.round(10*t/1e3)/10+" km"},e.getWeekTime=function(e){var t=0;return e.map((function(e){var a=e.movingTime;return t+=a})),O.a.duration(t,"seconds").format("H:mm")},e}return Object(p.a)(a,[{key:"NoOfOl",value:function(e){var t=0;return e.map((function(e){var a=e.ol;return t+=a})),t}},{key:"NoOfNight",value:function(e){var t=0;return e.map((function(e){var a=e.night;return t+=a})),t}},{key:"NoOfQuality",value:function(e){var t=0;return e.map((function(e){var a=e.quality;return t+=a})),t}},{key:"NoOfLsd",value:function(e){var t=0;return e.map((function(e){var a=e.lsd;return t+=a})),t}},{key:"NoOfStrength",value:function(e){var t=0;return e.map((function(e){var a=e.strength;return t+=a})),t}},{key:"NoOfAlternative",value:function(e){var t=0;return e.map((function(e){var a=e.alternative;return t+=a})),t}},{key:"NoOfForest",value:function(e){var t=0;return e.map((function(e){var a=e.forest;return t+=a})),t}},{key:"NoOfPath",value:function(e){var t=0;return e.map((function(e){var a=e.path;return t+=a})),t}},{key:"render",value:function(){if(null===this.props.user)return Object(s.jsx)("div",{});for(var e=O()(this.props.dateStart),t=O()(this.props.dateEnd),a=[];t.isSameOrAfter(e,"day");){var n=this.props.activities.filter((function(t){return O()(t.startDate).isSame(e,"day")}));a.push(Object(s.jsx)(Xe,{date:e.format("YYYY-MM-DD"),events:n,plannedIsHidden:this.state.plannedIsHidden,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.state.performedIsHidden},e)),e.add(1,"d")}var i={cell:{borderRight:"1px solid gray",padding:"5px"},cellPlanned:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"lightBlue"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"20px"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellPlanned:{borderRight:"1px solid gray",padding:"0",width:"20px",backgroundColor:"lightBlue"},summaryCell:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"gray",color:"white",fontWeight:"bold"},smallSummaryCell:{borderRight:"1px solid gray",padding:"1px",backgroundColor:"gray",color:"white",fontWeight:"bold"}};return Object(s.jsx)(B.a,{component:W.a,children:Object(s.jsxs)(K.a,{"aria-label":"spanning table",style:{borderTop:"1px solid gray"},children:[Object(s.jsxs)(Q.a,{children:[Object(s.jsxs)($.a,{children:[Object(s.jsx)(J.a,{rowSpan:2,style:i.editCell}),Object(s.jsx)(J.a,{rowSpan:2,style:i.dateCell,align:"left",children:"Datum"}),this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:i.hiddenCellPlanned,children:Object(s.jsx)(D.a,{onClick:this.showPlanned,children:Object(s.jsx)(ee.a,{})})}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{colSpan:4,style:i.cellPlanned,children:Object(s.jsxs)(H.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(H.a,{p:1,flexGrow:1,padding:0,children:"Planerad"}),Object(s.jsx)(H.a,{p:1,padding:0,children:Object(s.jsx)(D.a,{onClick:this.hidePlanned,children:Object(s.jsx)(X.a,{})})})]})}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:i.hiddenCell,children:Object(s.jsx)(D.a,{onClick:this.showPerformed,children:Object(s.jsx)(ee.a,{})})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{colSpan:12,style:i.cell,children:Object(s.jsxs)(H.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(H.a,{p:1,flexGrow:1,padding:0,children:"Utf\xf6rd"}),Object(s.jsx)(H.a,{p:1,padding:0,children:Object(s.jsx)(D.a,{onClick:this.hidePerformed,children:Object(s.jsx)(X.a,{})})})]})})]}),Object(s.jsxs)($.a,{children:[this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:i.hiddenCellPlanned}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:i.cellPlanned,children:"Beskrivning"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.cellPlanned,children:"Typ"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:i.cellPlanned,children:"L\xe4ngd"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:i.cellPlanned,children:"Tid"}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:i.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:i.cell,children:"Beskrivning"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.cell,children:"Typ"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"OL"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"Natt"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"Q"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"LP"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"Sty"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"Alt"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"Skog"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallCell,children:"Stig"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:i.cell,children:"L\xe4ngd"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:i.cell,children:"Tid"})]})]}),Object(s.jsxs)(V.a,{children:[a,Object(s.jsxs)($.a,{children:[Object(s.jsx)(J.a,{colSpan:2,style:i.summaryCell}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:i.summaryCell,colSpan:4}),this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:i.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{colSpan:2,style:i.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfOl(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfNight(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfQuality(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfLsd(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfStrength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfAlternative(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfForest(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:i.smallSummaryCell,children:this.NoOfPath(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:i.summaryCell,children:this.getWeekLength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:i.summaryCell,children:this.getWeekTime(this.props.activities)}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:i.summaryCell})]},"summaryRow")]})]})})}}]),a}(i.a.Component);function et(e){return 0===e?"":O.a.duration(e,"seconds").format("H:mm")}function tt(e){switch(e){case"ol":return Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16,style:{border:"solid black 1px"}});case"night":return Object(s.jsx)(ye.a,{});case"Run":return Object(s.jsx)(oe.a,{});case"WeightTraining":return Object(s.jsx)(pe.a,{});case"Workout":return Object(s.jsx)(Oe.a,{});case"Ride":case"VirtualRide":return Object(s.jsx)(ge.a,{});case"Swim":return Object(s.jsx)(me.a,{});case"Walk":return Object(s.jsx)(xe.a,{});case"Rowing":case"Kayaking":return Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16});case"NordicSki":case"RollerSki":return Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16});default:return e}}G()(O.a);var at=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={name:"",movingTime:0,distance:0,type:"",ol:!1,night:!1,quality:!1,lsd:!1,strength:!1,alternative:!1,forest:!1,path:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({movingTime:et(this.props.eventData.movingTime)}),this.setState({distance:Math.round(100*this.props.eventData.distance/1e3)/100}),this.setState({type:this.props.eventData.type}),this.setState({ol:1===this.props.eventData.ol}),this.setState({night:1===this.props.eventData.night}),this.setState({quality:1===this.props.eventData.quality}),this.setState({lsd:1===this.props.eventData.lsd}),this.setState({strength:1===this.props.eventData.strength}),this.setState({alternative:1===this.props.eventData.alternative}),this.setState({forest:1===this.props.eventData.forest}),this.setState({path:1===this.props.eventData.path})}},{key:"render",value:function(){var e,t={cell:{borderRight:"1px solid gray",padding:"5px"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"30px"},dataCell:{borderRight:"1px solid gray",padding:"5px",width:"80px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},checkbox:{width:"16px",height:"16px"}};return Object(s.jsxs)($.a,{children:[this.props.eventData.dateRowSpan>0&&Object(s.jsx)(J.a,{rowSpan:this.props.eventData.dateRowSpan,style:t.dateCell,align:"left",children:this.props.eventData.date}),this.props.eventData.plannedIsHidden&&Object(s.jsx)(J.a,{style:t.hiddenCell}),!this.props.eventData.plannedIsHidden&&Object(s.jsx)(J.a,{colSpan:"4",style:t.cell}),!this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:t.cell,children:this.props.eventData.name}),!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:t.cell,children:tt(this.props.eventData.type)}),!this.props.performedIsHidden&&1===this.props.eventData.ol&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.ol&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.night&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.night&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.quality&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.quality&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.lsd&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.lsd&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.strength&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.strength&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.alternative&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.alternative&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.forest&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.forest&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.path&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(te.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.path&&Object(s.jsx)(J.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:t.cell,children:(e=this.props.eventData.distance,0===e?"":e<1e3?e+" m":Math.round(100*e/1e3)/100+" km")}),!this.props.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:t.cell,children:et(this.props.eventData.movingTime)}),this.props.performedIsHidden&&Object(s.jsx)(J.a,{style:t.cell,colSpan:"12"})]},this.props.eventData.key)}}]),a}(i.a.Component),st=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){if(0===this.props.events.length){var e={key:"empty_"+this.props.date,dateRowSpan:1,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:"Vila",type:"",distance:0,movingTime:0,title:"",ol:0,night:0,quality:0,lsd:0,strength:0,alternative:0,forest:0,path:0};return Object(s.jsx)(at,{dayDate:this.props.date,eventData:e,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+e.key)}var t=[],a={key:this.props.events[0]._id,dateRowSpan:this.props.events.length,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[0].name,type:this.props.events[0].type,distance:this.props.events[0].distance,movingTime:this.props.events[0].movingTime,title:this.props.events[0].title,ol:this.props.events[0].ol,night:this.props.events[0].night,quality:this.props.events[0].quality,lsd:this.props.events[0].lsd,strength:this.props.events[0].strength,alternative:this.props.events[0].alternative,forest:this.props.events[0].forest,path:this.props.events[0].path};t.push(Object(s.jsx)(at,{dayDate:this.props.date,eventData:a,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+a.key));for(var i=1;i<this.props.events.length;i++){var r={key:this.props.events[i]._id,dateRowSpan:0,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[i].name,type:this.props.events[i].type,distance:this.props.events[i].distance,movingTime:this.props.events[i].movingTime,title:this.props.events[i].title,ol:this.props.events[i].ol,night:this.props.events[i].night,quality:this.props.events[i].quality,lsd:this.props.events[i].lsd,strength:this.props.events[i].strength,alternative:this.props.events[i].alternative,forest:this.props.events[i].forest,path:this.props.events[i].path};t.push(Object(s.jsx)(at,{dayDate:this.props.date,eventData:r,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+r.key))}return Object(s.jsx)(n.Fragment,{children:t})}}]),a}(i.a.Component),nt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={plannedIsHidden:!1,performedIsHidden:!1},e.hidePlanned=function(){e.setState({plannedIsHidden:!0})},e.showPlanned=function(){e.setState({plannedIsHidden:!1})},e.hidePerformed=function(){e.setState({performedIsHidden:!0})},e.showPerformed=function(){e.setState({performedIsHidden:!1})},e.getMonthLength=function(e){var t=0;return e.map((function(e){var a=e.distance;return t+=a})),t<1e3?t+" m":Math.round(10*t/1e3)/10+" km"},e.getMonthTime=function(e){var t=0;return e.map((function(e){var a=e.movingTime;return t+=a})),O.a.duration(t,"seconds").format("H:mm")},e}return Object(p.a)(a,[{key:"NoOfOl",value:function(e){var t=0;return e.map((function(e){var a=e.ol;return t+=a})),t}},{key:"NoOfNight",value:function(e){var t=0;return e.map((function(e){var a=e.night;return t+=a})),t}},{key:"NoOfQuality",value:function(e){var t=0;return e.map((function(e){var a=e.quality;return t+=a})),t}},{key:"NoOfLsd",value:function(e){var t=0;return e.map((function(e){var a=e.lsd;return t+=a})),t}},{key:"NoOfStrength",value:function(e){var t=0;return e.map((function(e){var a=e.strength;return t+=a})),t}},{key:"NoOfAlternative",value:function(e){var t=0;return e.map((function(e){var a=e.alternative;return t+=a})),t}},{key:"NoOfForest",value:function(e){var t=0;return e.map((function(e){var a=e.forest;return t+=a})),t}},{key:"NoOfPath",value:function(e){var t=0;return e.map((function(e){var a=e.path;return t+=a})),t}},{key:"render",value:function(){for(var e=O()(this.props.dateStart),t=O()(this.props.dateEnd),a=[],n={cell:{borderRight:"1px solid gray",padding:"5px"},cellPlanned:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"lightBlue"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"20px"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellPlanned:{borderRight:"1px solid gray",padding:"0",width:"20px",backgroundColor:"lightBlue"},summaryCell:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"gray",color:"white",fontWeight:"bold"},smallSummaryCell:{borderRight:"1px solid gray",padding:"1px",backgroundColor:"gray",color:"white",fontWeight:"bold"}};t.isSameOrAfter(e,"day");){var i=this.props.activities.filter((function(t){return O()(t.startDate).isSame(e,"day")}));a.push(Object(s.jsx)(st,{date:e.format("YYYY-MM-DD"),events:i,plannedIsHidden:this.state.plannedIsHidden,performedIsHidden:this.state.performedIsHidden,user:this.props.user},e)),e.add(1,"d")}return null===this.props.user?Object(s.jsx)("div",{}):Object(s.jsx)(B.a,{component:W.a,children:Object(s.jsxs)(K.a,{"aria-label":"spanning table",style:{borderTop:"1px solid gray"},children:[Object(s.jsxs)(Q.a,{children:[Object(s.jsxs)($.a,{children:[Object(s.jsx)(J.a,{rowSpan:2,style:n.dateCell,align:"left",children:"Datum"}),this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:n.hiddenCellPlanned,children:Object(s.jsx)(D.a,{onClick:this.showPlanned,children:Object(s.jsx)(ee.a,{})})}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{colSpan:4,style:n.cellPlanned,children:Object(s.jsxs)(H.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(H.a,{p:1,flexGrow:1,padding:0,children:"Planerad"}),Object(s.jsx)(H.a,{p:1,padding:0,children:Object(s.jsx)(D.a,{onClick:this.hidePlanned,children:Object(s.jsx)(X.a,{})})})]})}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:n.hiddenCell,children:Object(s.jsx)(D.a,{onClick:this.showPerformed,children:Object(s.jsx)(ee.a,{})})}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{colSpan:12,style:n.cell,children:Object(s.jsxs)(H.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(H.a,{p:1,flexGrow:1,padding:0,children:"Utf\xf6rd"}),Object(s.jsx)(H.a,{p:1,padding:0,children:Object(s.jsx)(D.a,{onClick:this.hidePerformed,children:Object(s.jsx)(X.a,{})})})]})})]}),Object(s.jsxs)($.a,{children:[this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:n.hiddenCellPlanned}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:n.cellPlanned,children:"Beskrivning"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.cellPlanned,children:"Typ"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:n.cellPlanned,children:"L\xe4ngd"}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:n.cellPlanned,children:"Tid"}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:n.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:n.cell,children:"Beskrivning"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.cell,children:"Typ"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"OL"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"Natt"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"Q"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"LP"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"Sty"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"Alt"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"Skog"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallCell,children:"Stig"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:n.cell,children:"L\xe4ngd"}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:n.cell,children:"Tid"})]})]}),Object(s.jsxs)(V.a,{children:[a,Object(s.jsxs)($.a,{children:[Object(s.jsx)(J.a,{style:n.summaryCell}),!this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:n.summaryCell,colSpan:4}),this.state.plannedIsHidden&&Object(s.jsx)(J.a,{style:n.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{colSpan:2,style:n.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfOl(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfNight(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfQuality(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfLsd(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfStrength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfAlternative(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfForest(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfPath(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:n.summaryCell,children:this.getMonthLength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(J.a,{align:"right",style:n.summaryCell,children:this.getMonthTime(this.props.activities)}),this.state.performedIsHidden&&Object(s.jsx)(J.a,{style:n.summaryCell})]},"summaryRow")]})]})})}}]),a}(i.a.Component),it=a(119),rt=a.n(it),lt="https://trbokbackend.niklasking.com",dt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={dateStart:O()().add(-1,"year").startOf("isoWeek").startOf("day").format("YYYY-MM-DD HH:mm:ss"),dateEnd:O()().endOf("day").format("YYYY-MM-DD HH:mm:ss"),categories:[],seriesData:[],series:[{name:"Tid per vecka",data:[]}],options:{chart:{id:"chart-week",zoom:{enabled:!0}},xaxis:{categories:[],tickPlacement:"on"},yaxis:{labels:{formatter:function(e){return O.a.duration(e,"seconds").format("H:mm")}}},dataLabels:{enabled:!1},title:{text:"Tid per vecka",floating:!0,offsetY:0,align:"center",style:{color:"#444"}}}},e.componentDidMount=Object(o.a)(c.a.mark((function t(){var a,s,n,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=lt+"/api/v1/summary/week?userStravaId="+e.props.user.stravaId+"&dateStart="+e.state.dateStart+"&dateEnd="+e.state.dateEnd,t.next=3,x.a.get(a);case 3:for(s=t.sent,n=[],i=[],r=0;r<s.data.length;r++)n.push(s.data[r]._id.year+"-"+s.data[r]._id.week),i.push(s.data[r].sumTime);e.setState({categories:n}),e.setState({seriesData:i}),e.setState({series:[{name:"Tid per vecka",data:i}]}),e.setState({options:{chart:{id:"chart-week",zoom:{enabled:!0}},xaxis:{categories:n,tickPlacement:"on"},yaxis:{labels:{formatter:function(e){return O.a.duration(e,"seconds").format("H:mm")}}},dataLabels:{enabled:!1},title:{text:"Tid per vecka",floating:!0,offsetY:0,align:"center",style:{color:"#444"}}}});case 11:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"bar",height:400})})}}]),a}(i.a.Component),ct=function(e){return"week"===e.selectedTab?Object(s.jsxs)("div",{className:"ui grid",style:{padding:10},children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"ui primary button left floated column two wide",onClick:e.getEarlierWeek,children:"<< Tidigare"}),Object(s.jsx)("div",{className:"ui primary button right floated column two wide",onClick:e.getLaterWeek,children:"Senare >>"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(Ze,{activities:e.activities,dateStart:e.dateStart,dateEnd:e.dateEnd,user:e.user,upDatePage:e.upDatePage})})]}):"month"===e.selectedTab?Object(s.jsxs)("div",{className:"ui grid",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"ui primary button left floated column three wide",onClick:e.getEarlierMonth,children:"<< Tidigare"}),Object(s.jsx)("div",{className:"ui primary button right floated column three wide",onClick:e.getLaterMonth,children:"Senare >>"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(nt,{activities:e.activities,dateStart:e.dateStart,dateEnd:e.dateEnd,user:e.user})})]}):Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(dt,{activities:e.activities,dateStart:e.dateStart,dateEnd:e.dateEnd,user:e.user})})},ot="https://trbokbackend.niklasking.com",ht=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={activities:[],dateStart:O()().startOf("isoWeek").format("YYYY-MM-DD"),dateEnd:O()().endOf("isoWeek").format("YYYY-MM-DD"),selectedTab:"week"},e.onWeekTabClick=function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a&&a.preventDefault(),e.setState({selectedTab:"week"}),e.setState({dateStart:O()().startOf("isoWeek").format("YYYY-MM-DD")}),e.setState({dateEnd:O()().endOf("isoWeek").format("YYYY-MM-DD")}),null===e.props.loggedInUser){t.next=11;break}return t.t0=e,t.next=8,e.props.fetchActivities(O()().startOf("isoWeek").format("YYYY-MM-DD"),O()().endOf("isoWeek").format("YYYY-MM-DD"));case 8:t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onMonthTabClick=function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState({selectedTab:"month"}),e.setState({dateStart:O()().startOf("month").format("YYYY-MM-DD"),dateEnd:O()().endOf("month").format("YYYY-MM-DD")}),null===e.props.loggedInUser){t.next=10;break}return t.t0=e,t.next=7,e.props.fetchActivities(O()().startOf("month").format("YYYY-MM-DD"),O()().endOf("month").format("YYYY-MM-DD"));case 7:t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onStatTabClick=function(t){t.preventDefault(),e.setState({selectedTab:"stat"})},e.getEarlierWeek=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=9;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(-7,"d").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(-7,"d").format("YYYY-MM-DD"));case 4:t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),e.setState({dateStart:O()(e.state.dateStart).add(-7,"d").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(-7,"d").format("YYYY-MM-DD")});case 9:case"end":return t.stop()}}),t)}))),e.getLaterWeek=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=9;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(7,"d").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(7,"d").format("YYYY-MM-DD"));case 4:t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),e.setState({dateStart:O()(e.state.dateStart).add(7,"d").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(7,"d").format("YYYY-MM-DD")});case 9:case"end":return t.stop()}}),t)}))),e.getEarlierMonth=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=9;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(-1,"M").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(-1,"M").format("YYYY-MM-DD"));case 4:t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),e.setState({dateStart:O()(e.state.dateStart).add(-1,"M").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(-1,"M").format("YYYY-MM-DD")});case 9:case"end":return t.stop()}}),t)}))),e.getLaterMonth=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=9;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(1,"M").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(1,"M").format("YYYY-MM-DD"));case 4:t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),e.setState({dateStart:O()(e.state.dateStart).add(1,"M").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(1,"M").format("YYYY-MM-DD")});case 9:case"end":return t.stop()}}),t)}))),e.fetchUpdatedActivities=Object(o.a)(c.a.mark((function t(){var a,s,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O()(e.state.dateEnd).add(1,"d").format("YYYY-MM-DD"),s=ot+"/api/v1/activities?dateStart="+e.state.dateStart+"&dateEnd="+a+"&user="+e.props.loggedInUser._id,t.next=4,x.a.get(s);case 4:n=t.sent,e.setState({activities:n.data});case 6:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.onWeekTabClick(null)}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"ui top attached tabular menu",children:[Object(s.jsx)("a",{className:"week"===this.state.selectedTab?"item active":"item",href:"/",onClick:this.onWeekTabClick,children:"Vecka"}),Object(s.jsx)("a",{className:"month"===this.state.selectedTab?"item active":"item",href:"/",onClick:this.onMonthTabClick,children:"M\xe5nad"}),Object(s.jsx)("a",{className:"stat"===this.state.selectedTab?"item active":"item",href:"/",onClick:this.onStatTabClick,children:"Statistik"})]},"trDataConfigView"),Object(s.jsx)("div",{className:"ui bottom attached segment",children:Object(s.jsx)(ct,{selectedTab:this.state.selectedTab,activities:this.state.activities,dateStart:this.state.dateStart,dateEnd:this.state.dateEnd,getEarlierWeek:this.getEarlierWeek,getLaterWeek:this.getLaterWeek,getEarlierMonth:this.getEarlierMonth,getLaterMonth:this.getLaterMonth,user:this.props.loggedInUser,upDatePage:this.fetchUpdatedActivities})},"trDataView")]})}}]),a}(i.a.Component),pt=a(238),jt=a(237),gt=a(175);function ut(){return Object(s.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(s.jsx)(R.a,{color:"inherit",href:"http://www.okorion.com/",children:"OK Orion Stars FC"})," ",(new Date).getFullYear(),"."]})}var mt=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function bt(){var e=mt(),t=(Object(m.f)(),function(){var e=Object(o.a)(c.a.mark((function e(t){var a,s,n,i,r,l,d,o,h,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements,s=a.name,n=a.username,i=a.email,r=a.password,l=a.useStrava,d=a.isPrivate,o={name:s.value,username:n.value,email:i.value,password:r.value,useStrava:!!l.checked,private:!!d.checked},e.next=5,x.a.post("https://trbokbackend.niklasking.com/api/v1/register",o);case 5:(h=e.sent).data.success?o.useStrava&&(p="https://www.strava.com/oauth/authorize?client_id="+gt.clientID+"&redirect_uri=https://trbokbackend.niklasking.com/stravaCallback&response_type=code&approval_promp=auto&scope=activity:read_all&state="+h.data.user._id,window.location.href=p):console.log(h.data.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(s.jsxs)(jt.a,{component:"main",maxWidth:"xs",children:[Object(s.jsx)(P.a,{}),Object(s.jsxs)("div",{className:e.paper,children:[Object(s.jsx)(T.a,{className:e.avatar,children:Object(s.jsx)(M.a,{})}),Object(s.jsx)(C.a,{component:"h1",variant:"h5",children:"Skapa en ny anv\xe4ndare"}),Object(s.jsxs)("form",{className:e.form,onSubmit:t,children:[Object(s.jsxs)(L.a,{container:!0,spacing:2,children:[Object(s.jsx)(L.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Namn",autoFocus:!0})}),Object(s.jsx)(L.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Anv\xe4ndarnamn",name:"username",autoComplete:"username"})}),Object(s.jsx)(L.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,id:"email",label:"E-postadress",name:"email",autoComplete:"email"})}),Object(s.jsx)(L.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"L\xf6senord",type:"password",id:"password",autoComplete:"current-password"})}),Object(s.jsx)(L.a,{item:!0,xs:12,children:Object(s.jsx)(pt.a,{control:Object(s.jsx)(te.a,{id:"useStrava",value:"useStrava",color:"primary",defaultChecked:!0}),label:"Jag vill h\xe4mta min tr\xe4ning automatiskt fr\xe5n Strava."})}),Object(s.jsx)(L.a,{item:!0,xs:12,children:Object(s.jsx)(pt.a,{control:Object(s.jsx)(te.a,{id:"isPrivate",value:"isPrivate",color:"primary"}),label:"Jag vill vara privat och vill inte dela min tr\xe4ning med andra."})})]}),Object(s.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Skapa anv\xe4ndare"}),Object(s.jsx)(L.a,{container:!0,justify:"flex-end",children:Object(s.jsx)(L.a,{item:!0,children:Object(s.jsx)(R.a,{href:"#",variant:"body2",children:"Har du redan en anv\xe4ndare? Logga in ist\xe4llet."})})})]})]}),Object(s.jsx)(H.a,{mt:5,children:Object(s.jsx)(ut,{})})]})}var xt="https://trbokbackend.niklasking.com",vt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null,userName:""},e.setLoggedInUser=function(t){e.setState({loggedInUser:t}),e.setState({userName:t.name})},e.onLogoutClick=function(){e.setState({loggedInUser:null}),e.setState({userName:""})},e.fetchActivities=function(){var t=Object(o.a)(c.a.mark((function t(a,s){var n,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O()(s).add(1,"d").format("YYYY-MM-DD"),n=xt+"/api/v1/activities?dateStart="+a+"&dateEnd="+s+"&user="+e.state.loggedInUser._id,t.next=4,x.a.get(n);case 4:return i=t.sent,t.abrupt("return",i.data);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"isLoggedIn",value:function(){return null!==this.state.loggedInUser}},{key:"render",value:function(){var e=this;return Object(s.jsx)(u.a,{children:Object(s.jsxs)("div",{style:{padding:"5px"},children:[Object(s.jsx)("div",{children:Object(s.jsx)(f.a,{position:"static",children:Object(s.jsxs)(y.a,{children:[Object(s.jsxs)(H.a,{display:"flex",flexGrow:1,alignItems:"center",children:[Object(s.jsx)(k.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(s.jsx)(S.a,{})}),Object(s.jsx)(C.a,{variant:"h6",children:"OK Orions tr\xe4ningsdagbok"})]}),null!==this.state.loggedInUser&&Object(s.jsx)(Y.a,{}),"\xa0\xa0",null!==this.state.loggedInUser&&Object(s.jsx)(C.a,{variant:"h6",children:this.state.userName}),null!==this.state.loggedInUser&&Object(s.jsx)(D.a,{color:"inherit",onClick:this.onLogoutClick,children:Object(s.jsx)(M.a,{})})]})})}),Object(s.jsx)("div",{children:Object(s.jsxs)(m.c,{children:[null!==this.state.loggedInUser&&Object(s.jsx)(m.a,{exact:!0,path:"/",render:function(t){return Object(s.jsx)(ht,{loggedInUser:e.state.loggedInUser,fetchActivities:e.fetchActivities})}}),null===this.state.loggedInUser&&Object(s.jsx)(m.a,{exact:!0,path:"/",render:function(t){return Object(s.jsx)(_,{setLoggedInUser:e.setLoggedInUser})}}),Object(s.jsx)(m.a,{exact:!0,path:"/register",component:bt})]})})]})})}}]),a}(i.a.Component);l.a.render(Object(s.jsx)(vt,{}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.2650a0c5.chunk.js.map