(this.webpackJsonptrbok=this.webpackJsonptrbok||[]).push([[0],{191:function(e,t){e.exports={clientID:"59119",clientSecret:"683dde428eff95f3c3e5c34cbfc554f3a3683fb5"}},193:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),i=a.n(n),r=a(13),l=a.n(r),d=a(9),c=a.n(d),o=a(18),p=a(21),h=a(22),j=a(24),g=a(23),m=a(98),u=a(26),b=a(19),v=a.n(b),x=a(6),O=a.n(x),y=a(257),f=a(258),k=a(239),D=a(58),S=a(240),C=a(134),I=a.n(C),P=a(259),w=a(135),H=a.n(w),E=a(71),Y=a.n(E),T=a(265),M=a(234),N=a(262),R=a(238),L=a(263),W=a(231),A=a(196),q=a(233),_=a(232);function U(){return Object(s.jsxs)(D.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(s.jsx)(W.a,{color:"inherit",href:"http://www.okorion.com/",children:"OK Orion Stars FC"})," ",(new Date).getFullYear(),"."]})}var F=Object(_.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random?running)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function K(e){var t=F(),a=function(){var t=Object(o.a)(c.a.mark((function t(a){var s,n,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=a.target.elements,n=s.email,i=s.password,t.next=4,v.a.post("https://trbokbackend.niklasking.com/api/v1/login",{username:n.value,password:i.value});case 4:(r=t.sent).data.success?(e.setLoggedInUser(r.data.user),a.target.rememberMe.checked?localStorage.setItem("user",JSON.stringify(r.data.user)):localStorage.removeItem("user")):console.log("Login failure: "+r.data.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsxs)(q.a,{container:!0,component:"main",className:t.root,children:[Object(s.jsx)(M.a,{}),Object(s.jsx)(q.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(s.jsx)(q.a,{item:!0,xs:12,sm:8,md:5,component:A.a,elevation:6,square:!0,children:Object(s.jsxs)("div",{className:t.paper,children:[Object(s.jsx)(T.a,{className:t.avatar,children:Object(s.jsx)(Y.a,{})}),Object(s.jsx)(D.a,{component:"h1",variant:"h5",children:"Logga in"}),Object(s.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:a,children:[Object(s.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mailadress eller anv\xe4ndarnamn",name:"email",autoComplete:"email",autoFocus:!0}),Object(s.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"L\xf6senord",type:"password",id:"password",autoComplete:"current-password"}),Object(s.jsx)(R.a,{control:Object(s.jsx)(L.a,{value:"remember",color:"primary"}),label:"Kom ih\xe5g mig",name:"rememberMe"}),Object(s.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Logga in"}),Object(s.jsxs)(q.a,{container:!0,children:[Object(s.jsx)(q.a,{item:!0,xs:!0,children:Object(s.jsx)(W.a,{href:"#",variant:"body2",children:"Gl\xf6mt l\xf6senordet?"})}),Object(s.jsx)(q.a,{item:!0,children:Object(s.jsx)(W.a,{href:"/register",variant:"body2",children:"Registrera en ny anv\xe4ndare"})})]}),Object(s.jsx)(P.a,{mt:5,children:Object(s.jsx)(U,{})})]})]})})]})}a(188);var G=a(53),B=a.n(G),V=a(245),J=a(249),$=a(255),Q=a(246),z=a(247),X=a(248),Z=a(49),ee=a.n(Z),te=a(48),ae=a.n(te),se=a(260),ne=a(264),ie=a(251),re=a(252),le=a(253),de=a(244),ce=a(250),oe=a(31),pe=a.n(oe),he=a(38),je=a.n(he),ge=a(29),me=a.n(ge),ue=a(39),be=a.n(ue),ve=a(41),xe=a.n(ve),Oe=a(40),ye=a.n(Oe),fe=a(37),ke=a.n(fe),De=a(130),Se=a.n(De),Ce=a(87),Ie=a.n(Ce),Pe=a(131),we=a.n(Pe),He=a(132),Ee=a.n(He),Ye=a(254),Te=a(237),Me=a(197),Ne=a(241),Re=a(242),Le=a(243),We=a(123),Ae=a.n(We),qe=a(124),_e=a.n(qe),Ue=a(125),Fe=a.n(Ue),Ke=a(126),Ge=a.n(Ke),Be=a(100),Ve=a.n(Be),Je=a(99),$e=a.n(Je),Qe=a(127),ze=a.n(Qe);var Xe=function(e){var t=e.onClose,a=e.selectedValue,n=e.open,i=function(e){t(e)};return Object(s.jsx)(ne.a,{onClose:function(){t(a)},"aria-labelledby":"simple-dialog-title",open:n,children:Object(s.jsxs)(Te.a,{children:[!e.emptyDay&&Object(s.jsxs)(Me.a,{autoFocus:!0,button:!0,onClick:function(){return i("editEvent")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Ae.a,{})})}),Object(s.jsx)(Re.a,{primary:"\xc4ndra aktiviteten"})]}),Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("addEvent")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(_e.a,{})})}),Object(s.jsx)(Re.a,{primary:"L\xe4gg till en aktiviteten"})]}),!e.emptyDay&&Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("deleteEvent")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Ie.a,{})})}),Object(s.jsx)(Re.a,{primary:"Ta bort aktiviteten"})]}),e.noOfEvents>1&&Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("reorder")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Fe.a,{})})}),Object(s.jsx)(Re.a,{primary:"Editera dagens aktiviteter"})]}),Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("strava")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)("img",{src:"/strava.png",alt:"Strava",height:39,width:39})})}),Object(s.jsx)(Re.a,{primary:"Synka fr\xe5n Strava"})]}),Object(s.jsx)(Le.a,{}),!e.skada&&e.isFirstEvent&&Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("isSkadad")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(Ge.a,{})})}),Object(s.jsx)(Re.a,{primary:"Jag \xe4r skadad"}),Object(s.jsx)($e.a,{})]}),e.skada&&e.isFirstEvent&&Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("isNotSkadad")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(pe.a,{})})}),Object(s.jsx)(Re.a,{primary:"Jag \xe4r hel"}),Object(s.jsx)(Ve.a,{})]}),!e.sjuk&&e.isFirstEvent&&Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("isSjuk")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(ze.a,{})})}),Object(s.jsx)(Re.a,{primary:"Jag \xe4r sjuk"}),Object(s.jsx)($e.a,{})]}),e.sjuk&&e.isFirstEvent&&Object(s.jsxs)(Me.a,{button:!0,onClick:function(){return i("isNotSjuk")},children:[Object(s.jsx)(Ne.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(pe.a,{})})}),Object(s.jsx)(Re.a,{primary:"Jag \xe4r frisk"}),Object(s.jsx)(Ve.a,{})]})]})})},Ze=a(89),et=a.n(Ze),tt=a(90),at=a.n(tt),st={cell:{borderRight:"1px solid gray",padding:"5px"},cellPlanned:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"lightBlue"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"30px"},dataCell:{borderRight:"1px solid gray",padding:"5px",width:"80px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellPlanned:{borderRight:"1px solid gray",padding:"0",width:"20px",backgroundColor:"lightBlue"},checkbox:{width:"16px",height:"16px"}},nt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={plannedIsHidden:!1,performedIsHidden:!1,typePlanned:"",movingTimePlanned:"",distancePlanned:0,type:"",movingTime:"",distance:0,ol:!1,night:!1,quality:!1,lsd:!1,strength:!1,alternative:!1,forest:!1,path:!1},e.hidePlanned=function(){e.setState({plannedIsHidden:!0})},e.showPlanned=function(){e.setState({plannedIsHidden:!1})},e.hidePerformed=function(){e.setState({performedIsHidden:!0})},e.showPerformed=function(){e.setState({performedIsHidden:!1})},e.handleCloseNok=function(){e.props.handleAddEventClose({item:{saveStatus:!1}})},e.handleCloseOk=function(){if(!e.validatePlannedDistance()&&!e.validatePlannedMovingTime()&&!e.validateDistance()&&!e.validateMovingTime()){var t={saveStatus:!0,startDate:e.props.dayDate,name:e.state.name,type:e.state.type,movingTime:e.state.movingTime,distance:e.state.distance,ol:e.state.ol,night:e.state.night,quality:e.state.quality,lsd:e.state.lsd,strength:e.state.strength,alternative:e.state.alternative,forest:e.state.forest,path:e.state.path,typePlanned:e.state.typePlanned,movingTimePlanned:e.state.movingTimePlanned,distancePlanned:e.state.distancePlanned,namePlanned:e.state.namePlanned};e.props.handleAddEventClose({item:t})}},e.validatePlannedDistance=function(){return isNaN(e.state.distancePlanned)},e.correctPlannedDistance=function(t){e.setState({distancePlanned:t.target.value.replace(/[^\d.-]/g,"")})},e.validateDistance=function(){return isNaN(e.state.distance)},e.correctDistance=function(t){e.setState({distance:t.target.value.replace(/[^\d.-]/g,"")})},e.validatePlannedMovingTime=function(){return!e.state.movingTimePlanned.match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctPlannedMovingTime=function(t){e.setState({movingTimePlanned:t.target.value.replace(/[^\d:]/g,"")})},e.validateMovingTime=function(){return!e.state.movingTime.match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctMovingTime=function(t){e.setState({movingTime:t.target.value.replace(/[^\d:]/g,"")})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(ne.a,{open:this.props.open,fullScreen:!0,style:{padding:10},children:[Object(s.jsx)(de.a,{children:"L\xe4gg till en ny aktivitet"}),Object(s.jsxs)(V.a,{"aria-label":"spanning table",style:{borderTop:"1px solid gray"},children:[Object(s.jsxs)(Q.a,{children:[Object(s.jsxs)(z.a,{children:[Object(s.jsx)(X.a,{rowSpan:2,style:st.dateCell,align:"left",children:"Datum"}),this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.hiddenCellPlanned,children:Object(s.jsx)(S.a,{onClick:this.showPlanned,children:Object(s.jsx)(ae.a,{})})}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{colSpan:4,style:st.cellPlanned,children:Object(s.jsxs)(P.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(P.a,{p:1,flexGrow:1,padding:0,children:"Planerad"}),Object(s.jsx)(P.a,{p:1,padding:0,children:Object(s.jsx)(S.a,{onClick:this.hidePlanned,children:Object(s.jsx)(ee.a,{})})})]})}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.hiddenCell,children:Object(s.jsx)(S.a,{onClick:this.showPerformed,children:Object(s.jsx)(ae.a,{})})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{colSpan:12,style:st.cell,children:Object(s.jsxs)(P.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(P.a,{p:1,flexGrow:1,padding:0,children:"Utf\xf6rd"}),Object(s.jsx)(P.a,{p:1,padding:0,children:Object(s.jsx)(S.a,{onClick:this.hidePerformed,children:Object(s.jsx)(ee.a,{})})})]})})]}),Object(s.jsxs)(z.a,{children:[this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.hiddenCellPlanned}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.cellPlanned,children:"Beskrivning"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.cellPlanned,children:"Typ"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:st.cellPlanned,children:"L\xe4ngd"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:st.cellPlanned,children:"Tid"}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.cell,children:"Beskrivning"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.cell,children:"Typ"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"OL"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"Natt"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"Q"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"LP"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"Sty"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"Alt"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"Skog"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:"Stig"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:st.cell,children:"L\xe4ngd"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:st.cell,children:"Tid"})]})]}),Object(s.jsx)(J.a,{children:Object(s.jsxs)(z.a,{children:[Object(s.jsx)(X.a,{style:st.dateCell,align:"left",children:this.props.dayDate}),this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.hiddenCell}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.namePlanned,onChange:function(t){return e.setState({namePlanned:t.target.value})}})}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.cell,children:Object(s.jsxs)(se.a,{defaultValue:"",onChange:function(t){return e.setState({typePlanned:t.target.value})},children:[Object(s.jsxs)(ce.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(ce.a,{value:"night",children:[Object(s.jsx)(ke.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(ce.a,{value:"Run",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(ce.a,{value:"Ride",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(ce.a,{value:"VirtualRide",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(ce.a,{value:"WeightTraining",children:[Object(s.jsx)(je.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(ce.a,{value:"Swim",children:[Object(s.jsx)(be.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(ce.a,{value:"Workout",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(ce.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(ce.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(ce.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(ce.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.distancePlanned,onChange:this.correctPlannedDistance,error:this.validatePlannedDistance(),helperText:this.validatePlannedDistance()?"Fel":" "})}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:st.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTimePlanned,onChange:this.correctPlannedMovingTime,error:this.validatePlannedMovingTime(),helperText:this.validatePlannedMovingTime()?"Fel":" "})}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.cell,children:Object(s.jsxs)(se.a,{defaultValue:"",onChange:function(t){return e.setState({type:t.target.value})},children:[Object(s.jsxs)(ce.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(ce.a,{value:"night",children:[Object(s.jsx)(ke.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(ce.a,{value:"Run",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(ce.a,{value:"Ride",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(ce.a,{value:"VirtualRide",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(ce.a,{value:"WeightTraining",children:[Object(s.jsx)(je.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(ce.a,{value:"Swim",children:[Object(s.jsx)(be.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(ce.a,{value:"Workout",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(ce.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(ce.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(ce.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(ce.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.ol,onChange:function(t){return e.setState({ol:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.night,onChange:function(t){return e.setState({night:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.quality,onChange:function(t){return e.setState({quality:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.lsd,onChange:function(t){return e.setState({lsd:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.strength,onChange:function(t){return e.setState({strength:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.alternative,onChange:function(t){return e.setState({alternative:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.forest,onChange:function(t){return e.setState({forest:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:st.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.path,onChange:function(t){return e.setState({path:t.target.checked})},style:st.checkbox})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.distance,onChange:this.correctDistance,error:this.validateDistance(),helperText:this.validateDistance()?"Fel":" "})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:st.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTime,onChange:this.correctMovingTime,error:this.validateMovingTime(),helperText:this.validateMovingTime()?"Fel":" "})})]},this.props.dayDate)})]}),Object(s.jsxs)(ie.a,{children:[Object(s.jsx)(S.a,{onClick:this.handleCloseOk,color:"primary",startIcon:Object(s.jsx)(et.a,{}),children:"Spara"}),Object(s.jsx)(S.a,{onClick:this.handleCloseNok,color:"primary",startIcon:Object(s.jsx)(at.a,{}),children:"\xc5ngra"})]})]})}}]),a}(i.a.Component),it=a(82),rt=a(66),lt=a(136),dt=a(91),ct=a(269),ot=a(128),pt=a.n(ot),ht="https://trbokbackend.niklasking.com",jt=function(e){return{background:e?"lightblue":"lightgrey",padding:8,width:250}};function gt(e){switch(e){case"ol":return Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16,style:{border:"solid black 1px"}});case"night":return Object(s.jsx)(ke.a,{});case"Run":return Object(s.jsx)(pe.a,{});case"WeightTraining":return Object(s.jsx)(je.a,{});case"Workout":return Object(s.jsx)(ye.a,{});case"Ride":case"VirtualRide":return Object(s.jsx)(me.a,{});case"Swim":return Object(s.jsx)(be.a,{});case"Walk":return Object(s.jsx)(xe.a,{});case"Rowing":case"Kayaking":return Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16});case"NordicSki":case"RollerSki":return Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16});default:return Object(s.jsx)(pt.a,{})}}B()(O.a);var mt=function(e){var t=e.children;return Object(s.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:150,minWidth:180},children:t})},ut=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handleCloseOk=Object(o.a)(c.a.mark((function e(){var t,a,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<s.props.events.length)){e.next=18;break}if(s.state.items[t].id===s.props.events[t]._id){e.next=15;break}if(a={_id:s.props.events[t]._id,name:s.props.events[t].name,distance:s.props.events[t].distance,type:s.props.events[t].type,movingTime:s.props.events[t].movingTime,ol:s.props.events[t].ol,night:s.props.events[t].night,quality:s.props.events[t].quality,lsd:s.props.events[t].lsd,strength:s.props.events[t].strength,alternative:s.props.events[t].alternative,forest:s.props.events[t].forest,path:s.props.events[t].path,typePlanned:s.state.items[t].typePlanned,movingTimePlanned:s.state.items[t].movingTimePlanned,distancePlanned:s.state.items[t].distancePlanned,namePlanned:s.state.items[t].namePlanned},n=!0,(0!==a.alternative||0!==a.distance||void 0!==a.distancePlanned||0!==a.forest||0!==a.lsd||null!==a.movingTime||void 0!==a.movingTimePlanned||""!==a.name||void 0!==a.namePlanned||0!==a.night||0!==a.ol||0!==a.path||0!==a.quality||0!==a.strength||""!==a.type||void 0!==a.typePlanned)&&(n=!1),!n){e.next=12;break}return i=ht+"/api/v1/activities/"+a._id,e.next=10,v.a.delete(i);case 10:e.next=15;break;case 12:return ht+"/api/v1/activities",e.next=15,v.a.patch("https://trbokbackend.niklasking.com/api/v1/activities",a);case 15:t++,e.next=1;break;case 18:s.props.onClose(s.state.items);case 19:case"end":return e.stop()}}),e)}))),s.handleCloseNok=function(){s.props.onClose("NOK")},s.state={items:[]},s.onDragEnd=s.onDragEnd.bind(Object(it.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){for(var e=0;e<this.props.events.length;e++)this.state.items.push({id:this.props.events[e]._id,content:(a=this.props.events[e].namePlanned,(void 0===a?"":a)+(t=this.props.events[e].movingTimePlanned,void 0===t||null===t||""===t||0===t||"0"===t?"":" ("+O.a.duration(t,"seconds").format("H:mm")+")")),typePlanned:this.props.events[e].typePlanned,movingTimePlanned:this.props.events[e].movingTimePlanned,distancePlanned:this.props.events[e].distancePlanned,namePlanned:this.props.events[e].namePlanned});var t,a}},{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(lt.a)(n,1)[0];return s.splice(a,0,i),s}(this.state.items,e.source.index,e.destination.index);this.setState({items:t})}}},{key:"handleClose",value:function(){this.props.onClose("Klart")}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(ne.a,{onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:this.props.open,children:[Object(s.jsx)("table",{children:Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)(dt.a,{onDragEnd:this.onDragEnd,children:Object(s.jsx)(dt.c,{droppableId:"droppable",children:function(t,a){return Object(s.jsxs)("div",Object(rt.a)(Object(rt.a)({},t.droppableProps),{},{ref:t.innerRef,style:jt(a.isDraggingOver),children:[e.state.items.map((function(e,t){return Object(s.jsx)(dt.b,{draggableId:e.id,index:t,children:function(t,a){return Object(s.jsx)("div",Object(rt.a)(Object(rt.a)(Object(rt.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(a.isDragging,n=t.draggableProps.style,Object(rt.a)({userSelect:"none",margin:"0 0 ".concat(8,"px 0"),height:40},n)),children:Object(s.jsx)(ct.a,{icon:gt(e.typePlanned),label:Object(s.jsx)(mt,{children:e.content}),clickable:!0,color:"primary"})}));var n}},e.id)})),t.placeholder]}))}})})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{style:jt(!1),children:this.props.events.map((function(e){return Object(s.jsx)("div",{style:{margin:"0 0 ".concat(8,"px 0"),height:40},children:Object(s.jsx)(ct.a,{icon:gt(e.type),label:Object(s.jsx)(mt,{children:e.name}),clickable:!0,color:"secondary"})},"performedEvent_"+e._id)}))})})]})})}),Object(s.jsxs)(ie.a,{children:[Object(s.jsx)(S.a,{onClick:this.handleCloseOk,color:"primary",startIcon:Object(s.jsx)(et.a,{}),children:"Spara"}),Object(s.jsx)(S.a,{onClick:this.handleCloseNok,color:"primary",startIcon:Object(s.jsx)(at.a,{}),children:"\xc5ngra"})]})]})}}]),a}(n.Component),bt="https://trbokbackend.niklasking.com";function vt(e){return 0===e||""===e||"0"===e?"":e<1e3?e:Math.round(100*e/1e3)/100}function xt(e){return 0===e||void 0===e||""===e||"0"===e?"":e<1e3?e+" m":Math.round(100*e/1e3)/100+" km"}function Ot(e){return void 0===e||null===e||""===e||0===e||"0"===e?"":O.a.duration(e,"seconds").format("H:mm")}function yt(e){var t="";if(e.indexOf(":")>0?t=":":e.indexOf(".")>0?t=".":e.indexOf(",")>0&&(t=","),""!==t){var a=e.split(t);return 60*parseInt(a[0])*60+60*parseInt(a[1])}return 60*parseInt(e)}function ft(e){switch(e){case"ol":return Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16,style:{border:"solid black 1px"}});case"night":return Object(s.jsx)(ke.a,{});case"Run":return Object(s.jsx)(pe.a,{});case"WeightTraining":return Object(s.jsx)(je.a,{});case"Workout":return Object(s.jsx)(ye.a,{});case"Ride":case"VirtualRide":return Object(s.jsx)(me.a,{});case"Swim":return Object(s.jsx)(be.a,{});case"Walk":return Object(s.jsx)(xe.a,{});case"Rowing":case"Kayaking":return Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16});case"NordicSki":case"RollerSki":return Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16});default:return e}}B()(O.a);var kt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isEditing:!1,isAdding:!1,showReorder:!1,name:"",movingTime:"0",distance:0,type:"",ol:!1,night:!1,quality:!1,lsd:!1,strength:!1,alternative:!1,forest:!1,path:!1,skada:1===e.props.eventData.skada,openEditEventDialog:!1,openDeleteWarningDialog:!1,namePlanned:"",distancePlanned:0,movingTimePlanned:"0",typePlanned:""},e.getStravaEventOneDay=Object(o.a)(c.a.mark((function t(){var a,s,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O()(e.props.dayDate+" 00:00:00").unix(),s=O()(e.props.dayDate+" 23:59:59").unix(),n=bt+"/api/v1/strava/activities/between?before="+s+"&after="+a+"&stravaId="+e.props.user.stravaId,t.next=5,v.a.get(n);case 5:e.props.upDatePage();case 6:case"end":return t.stop()}}),t)}))),e.handleCloseEditEventDialog=function(t){switch(e.setState({openEditEventDialog:!1}),t){case"editEvent":e.setState({isEditing:!0});break;case"addEvent":e.props.eventData.key.startsWith("empty_")?e.setState({isEditing:!0}):e.setState({isAdding:!0});break;case"deleteEvent":e.setState({openDeleteWarningDialog:!0});break;case"strava":e.getStravaEventOneDay();break;case"isSkadad":e.setState({skada:!0}),e.saveDay(!0,e.state.sjuk);break;case"isNotSkadad":e.setState({skada:!1}),e.saveDay(!1,e.state.sjuk);break;case"isSjuk":e.setState({sjuk:!0}),e.saveDay(e.state.skada,!0);break;case"isNotSjuk":e.setState({sjuk:!1}),e.saveDay(e.state.skada,!1);break;case"reorder":e.setState({showReorder:!0})}},e.handleCloseReorderEventDialog=function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({showReorder:!1}),e.props.upDatePage();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleCloseDeleteWarningDialogOk=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({openDeleteWarningDialog:!1}),a=bt+"/api/v1/activities/"+e.props.eventData.key,t.next=4,v.a.delete(a);case 4:e.props.upDatePage();case 5:case"end":return t.stop()}}),t)}))),e.handleCloseDeleteWarningDialogNok=function(){e.setState({openDeleteWarningDialog:!1})},e.setEditMode=function(){e.setState({openEditEventDialog:!0})},e.handleAddEventClose=function(){var t=Object(o.a)(c.a.mark((function t(a){var s,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isAdding:!1}),!a.item.saveStatus){t.next=7;break}return s="night"===a.item.type?1:a.item.night,n={startDate:e.props.dayDate,user:e.props.user,name:a.item.name,distance:1e3*a.item.distance,movingTime:yt(a.item.movingTime),type:a.item.type,ol:a.item.ol,night:s,quality:a.item.quality,lsd:a.item.lsd,strength:a.item.strength,alternative:a.item.alternative,forest:a.item.forest,path:a.item.path,typePlanned:a.item.typePlanned,movingTimePlanned:yt(a.item.movingTimePlanned),distancePlanned:1e3*a.item.distancePlanned,namePlanned:a.item.namePlanned},bt+"/api/v1/activities",t.next=7,v.a.post("https://trbokbackend.niklasking.com/api/v1/activities",n);case 7:e.props.upDatePage();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cancelEditMode=function(){e.setState({isEditing:!1}),e.props.upDatePage()},e.saveDay=function(){var t=Object(o.a)(c.a.mark((function t(a,s){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={startDate:e.props.dayDate,skada:a,sjuk:s,user:e.props.user},bt+"/api/v1/days",t.next=4,v.a.post("https://trbokbackend.niklasking.com/api/v1/days",n);case 4:e.setState({isEditMode:!1}),e.setState({isEditing:!1}),e.setState({isAdding:!1}),e.props.upDatePage();case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.saveEvent=Object(o.a)(c.a.mark((function t(){var a,s,n,i,r,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.validatePlannedDistance()){t.next=2;break}return t.abrupt("return");case 2:if(!e.validatePlannedMovingTime()){t.next=4;break}return t.abrupt("return");case 4:if(!e.validateDistance()){t.next=6;break}return t.abrupt("return");case 6:if(!e.validateMovingTime()){t.next=8;break}return t.abrupt("return");case 8:return a={startDate:e.props.dayDate,skada:e.state.skada,sjuk:e.state.sjuk,user:e.props.user},bt+"/api/v1/days",t.next=12,v.a.post("https://trbokbackend.niklasking.com/api/v1/days",a);case 12:if(!e.props.eventData.key.startsWith("empty_")){t.next=20;break}return s="night"===e.state.type?1:e.state.night,n={startDate:e.props.dayDate,_id:e.props.eventData.key,date:e.props.eventData.date,user:e.props.user,name:e.state.name,distance:e.state.distance>=500?e.state.distance:1e3*e.state.distance,movingTime:yt(e.state.movingTime),type:e.state.type,ol:e.state.ol,night:s,quality:e.state.quality,lsd:e.state.lsd,strength:e.state.strength,alternative:e.state.alternative,forest:e.state.forest,path:e.state.path,distancePlanned:e.state.distancePlanned>=500?e.state.distancePlanned:1e3*e.state.distancePlanned,movingTimePlanned:yt(e.state.movingTimePlanned),typePlanned:e.state.typePlanned,namePlanned:e.state.namePlanned},bt+"/api/v1/activities",t.next=18,v.a.post("https://trbokbackend.niklasking.com/api/v1/activities",n);case 18:t.next=26;break;case 20:return i="ol"===e.state.type||"night"===e.state.type?1:e.state.ol,r="night"===e.state.type?1:e.state.night,l={_id:e.props.eventData.key,date:e.props.eventData.date,user:e.props.user,name:e.state.name,distance:e.state.distance>=500?e.state.distance:1e3*e.state.distance,movingTime:yt(e.state.movingTime),type:e.state.type,ol:i,night:r,quality:e.state.quality,lsd:e.state.lsd,strength:e.state.strength,alternative:e.state.alternative,forest:e.state.forest,path:e.state.path,distancePlanned:e.state.distancePlanned>=500?e.state.distancePlanned:1e3*e.state.distancePlanned,movingTimePlanned:yt(e.state.movingTimePlanned),typePlanned:e.state.typePlanned,namePlanned:e.state.namePlanned},bt+"/api/v1/activities",t.next=26,v.a.patch("https://trbokbackend.niklasking.com/api/v1/activities",l);case 26:e.setState({isEditMode:!1}),e.setState({isEditing:!1}),e.setState({isAdding:!1}),e.props.upDatePage();case 30:case"end":return t.stop()}}),t)}))),e.validatePlannedDistance=function(){return isNaN(e.state.distancePlanned)},e.correctPlannedDistance=function(t){e.setState({distancePlanned:t.target.value.replace(/[^\d.-]/g,"")})},e.validatePlannedMovingTime=function(){return!e.state.movingTimePlanned.toString().match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctPlannedMovingTime=function(t){e.setState({movingTimePlanned:t.target.value.replace(/[^\d:]/g,"")})},e.validateDistance=function(){return isNaN(e.state.distance)},e.correctDistance=function(t){e.setState({distance:t.target.value.replace(/[^\d.-]/g,"")})},e.validateMovingTime=function(){return!e.state.movingTime.toString().match(/^(([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$)|(^[0-9]*$)/)},e.correctMovingTime=function(t){e.setState({movingTime:t.target.value.replace(/[^\d:]/g,"")})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({name:null===this.props.eventData.name?"":this.props.eventData.name}),this.setState({movingTime:Ot(this.props.eventData.movingTime)}),this.setState({distance:this.props.eventData.distance}),this.setState({type:this.props.eventData.type}),this.setState({ol:1===this.props.eventData.ol}),this.setState({night:1===this.props.eventData.night}),this.setState({quality:1===this.props.eventData.quality}),this.setState({lsd:1===this.props.eventData.lsd}),this.setState({strength:1===this.props.eventData.strength}),this.setState({alternative:1===this.props.eventData.alternative}),this.setState({forest:1===this.props.eventData.forest}),this.setState({path:1===this.props.eventData.path}),this.setState({skada:1===this.props.eventData.skada}),this.setState({sjuk:1===this.props.eventData.sjuk}),this.setState({movingTimePlanned:null===this.props.eventData.movingTimePlanned||void 0===this.props.eventData.movingTimePlanned?"":Ot(this.props.eventData.movingTimePlanned)}),this.setState({distancePlanned:null===this.props.eventData.distancePlanned||void 0===this.props.eventData.distancePlanned?"":this.props.eventData.distancePlanned}),this.setState({typePlanned:null===this.props.eventData.typePlanned?"":this.props.eventData.typePlanned}),this.setState({namePlanned:null===this.props.eventData.namePlanned?"":this.props.eventData.namePlanned})}},{key:"render",value:function(){var e=this,t={cell:{borderRight:"1px solid gray",padding:"5px"},smallCell:{borderRight:"1px solid gray",textAlign:"center",padding:"2px",width:"30px"},dataCell:{borderRight:"1px solid gray",padding:"5px",width:"80px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},checkbox:{width:"16px",height:"16px"}};return Object(s.jsxs)(z.a,{children:[Object(s.jsx)(ut,{events:this.props.eventsOfDay,open:this.state.showReorder,onClose:this.handleCloseReorderEventDialog}),!this.state.isEditing&&Object(s.jsx)(X.a,{style:t.editCell,align:"center",children:Object(s.jsx)(Se.a,{onClick:this.setEditMode})}),this.props.eventData.key.startsWith("empty_")&&Object(s.jsx)(Xe,{noOfEvents:this.props.eventsOfDay.length,open:this.state.openEditEventDialog,onClose:this.handleCloseEditEventDialog,emptyDay:!0,skada:this.state.skada,sjuk:this.state.sjuk,isFirstEvent:this.props.eventData.dateRowSpan>0}),!this.props.eventData.key.startsWith("empty_")&&Object(s.jsx)(Xe,{noOfEvents:this.props.eventsOfDay.length,open:this.state.openEditEventDialog,onClose:this.handleCloseEditEventDialog,emptyDay:!1,skada:this.state.skada,sjuk:this.state.sjuk,isFirstEvent:this.props.eventData.dateRowSpan>0}),Object(s.jsxs)(ne.a,{open:this.state.openDeleteWarningDialog,onClose:this.handleCloseDeleteWarningDialogNok,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(s.jsx)(de.a,{id:"alert-dialog-title",children:"Ta bort aktivitet?"}),Object(s.jsx)(re.a,{children:Object(s.jsxs)(le.a,{id:"alert-dialog-description",children:["\xc4r du s\xe4kert p\xe5 att du vill ta bort aktivitet:",Object(s.jsx)("br",{}),this.props.dayDate," - ",this.props.eventData.name,"?"]})}),Object(s.jsxs)(ie.a,{children:[Object(s.jsx)(S.a,{onClick:this.handleCloseDeleteWarningDialogOk,color:"primary",startIcon:Object(s.jsx)(Ie.a,{}),children:"Ja"}),Object(s.jsx)(S.a,{onClick:this.handleCloseDeleteWarningDialogNok,color:"primary",autoFocus:!0,startIcon:Object(s.jsx)(Ye.a,{}),children:"Nej"})]})]}),this.state.isAdding&&Object(s.jsx)(nt,{handleAddEventClose:this.handleAddEventClose,open:this.state.isAdding,dayDate:this.props.dayDate}),this.state.isEditing&&Object(s.jsxs)(X.a,{style:t.editCell,align:"center",children:[Object(s.jsx)(we.a,{onClick:this.saveEvent}),Object(s.jsx)(Ee.a,{onClick:this.cancelEditMode})]}),this.props.eventData.dateRowSpan>0&&Object(s.jsxs)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:t.dateCell,align:"left",children:[this.props.dayName,Object(s.jsx)("br",{}),this.props.eventData.date]}),this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.hiddenCell}),!this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,children:this.props.eventData.namePlanned}),!this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.smallCell,children:ft(this.props.eventData.typePlanned)}),!this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:t.cell,children:xt(this.props.eventData.distancePlanned)}),!this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:t.cell,children:Ot(this.props.eventData.movingTimePlanned)}),this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.namePlanned,onChange:function(t){return e.setState({namePlanned:t.target.value})},name:"namePlannedField"})}),this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,children:Object(s.jsxs)(se.a,{defaultValue:void 0===this.props.eventData.typePlanned?"":this.props.eventData.typePlanned,onChange:function(t){return e.setState({typePlanned:t.target.value})},children:[Object(s.jsxs)(ce.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(ce.a,{value:"night",children:[Object(s.jsx)(ke.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(ce.a,{value:"Run",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(ce.a,{value:"Ride",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(ce.a,{value:"VirtualRide",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(ce.a,{value:"WeightTraining",children:[Object(s.jsx)(je.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(ce.a,{value:"Swim",children:[Object(s.jsx)(be.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(ce.a,{value:"Workout",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(ce.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(ce.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(ce.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(ce.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:vt(this.state.distancePlanned),onChange:this.correctPlannedDistance,error:this.validatePlannedDistance(),helperText:this.validatePlannedDistance()?"Fel":" "})}),this.state.isEditing&&!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:t.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTimePlanned,onChange:this.correctPlannedMovingTime,error:this.validatePlannedMovingTime(),helperText:this.validatePlannedMovingTime()?"Fel":" "})}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,children:this.props.eventData.name}),!this.state.isEditing&&!this.props.performedIsHidden&&""===this.state.type&&Object(s.jsx)(X.a,{align:"center",style:t.cell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&""!==this.state.type&&Object(s.jsx)(X.a,{align:"center",style:t.cell,children:ft(this.props.eventData.type)}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.ol&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.ol&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.night&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.night&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.quality&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.quality&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.lsd&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.lsd&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.strength&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.strength&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.alternative&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.alternative&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.forest&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.forest&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.path&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.path&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:"\xa0"}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:t.cell,children:xt(this.props.eventData.distance)}),!this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:t.cell,children:Ot(this.props.eventData.movingTime)}),this.props.eventData.dateRowSpan>0&&!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.skada&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:t.smallCell,align:"left",children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),this.props.eventData.dateRowSpan>0&&!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.skada&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:t.smallCell,align:"left",children:"\xa0"}),this.props.eventData.dateRowSpan>0&&!this.state.isEditing&&!this.props.performedIsHidden&&1===this.props.eventData.sjuk&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:t.smallCell,align:"left",children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:t.checkbox})}),this.props.eventData.dateRowSpan>0&&!this.state.isEditing&&!this.props.performedIsHidden&&0===this.props.eventData.sjuk&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:t.smallCell,align:"left",children:"\xa0"}),this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,colSpan:"14"}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,children:Object(s.jsx)(N.a,{variant:"outlined",multiline:!0,fullWidth:!0,rows:3,value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},name:"nameField"})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:t.cell,children:Object(s.jsxs)(se.a,{defaultValue:void 0===this.props.eventData.type?"":this.props.eventData.type,onChange:function(t){return e.setState({type:t.target.value})},children:[Object(s.jsxs)(ce.a,{value:"ol",children:[Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16}),Object(s.jsx)("span",{children:"OL"})]}),Object(s.jsxs)(ce.a,{value:"night",children:[Object(s.jsx)(ke.a,{}),Object(s.jsx)("span",{children:"Natt-OL"})]}),Object(s.jsxs)(ce.a,{value:"Run",children:[Object(s.jsx)(pe.a,{}),Object(s.jsx)("span",{children:"L\xf6pning"})]}),Object(s.jsxs)(ce.a,{value:"Ride",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel"})]}),Object(s.jsxs)(ce.a,{value:"VirtualRide",children:[Object(s.jsx)(me.a,{}),Object(s.jsx)("span",{children:"Cykel inne"})]}),Object(s.jsxs)(ce.a,{value:"WeightTraining",children:[Object(s.jsx)(je.a,{}),Object(s.jsx)("span",{children:"Styrketr\xe4ning"})]}),Object(s.jsxs)(ce.a,{value:"Swim",children:[Object(s.jsx)(be.a,{}),Object(s.jsx)("span",{children:"Simning"})]}),Object(s.jsxs)(ce.a,{value:"Workout",children:[Object(s.jsx)(ye.a,{}),Object(s.jsx)("span",{children:"Annat"})]}),Object(s.jsxs)(ce.a,{value:"NordicSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16}),Object(s.jsx)("span",{children:"Skidor"})]}),Object(s.jsxs)(ce.a,{value:"RollerSki",children:[Object(s.jsx)("img",{src:"/ski.png",alt:"Rullskidor",height:16,width:16}),Object(s.jsx)("span",{children:"Rullskidor"})]}),Object(s.jsxs)(ce.a,{value:"Kayaking",children:[Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16}),Object(s.jsx)("span",{children:"Kajak"})]}),Object(s.jsxs)(ce.a,{value:"Walk",children:[Object(s.jsx)(xe.a,{}),Object(s.jsx)("span",{children:"G\xe5ng"})]})]})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.ol,onChange:function(t){return e.setState({ol:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.night,onChange:function(t){return e.setState({night:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.quality,onChange:function(t){return e.setState({quality:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.lsd,onChange:function(t){return e.setState({lsd:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.strength,onChange:function(t){return e.setState({strength:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.alternative,onChange:function(t){return e.setState({alternative:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.forest,onChange:function(t){return e.setState({forest:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.path,onChange:function(t){return e.setState({path:t.target.checked})},style:t.checkbox})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:t.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:vt(this.state.distance),onChange:this.correctDistance,error:this.validateDistance(),helperText:this.validateDistance()?"Fel":" "})}),this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:t.dataCell,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,value:this.state.movingTime,onChange:this.correctMovingTime,error:this.validateMovingTime(),helperText:this.validateMovingTime()?"Fel":" "})}),this.props.eventData.dateRowSpan>0&&this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.skada,onChange:function(t){return e.setState({skada:t.target.checked})},style:t.checkbox})}),this.props.eventData.dateRowSpan>0&&this.state.isEditing&&!this.props.performedIsHidden&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,align:"center",style:t.smallCell,children:Object(s.jsx)(L.a,{checked:this.state.sjuk,onChange:function(t){return e.setState({sjuk:t.target.checked})},style:t.checkbox})})]},this.props.eventData.key)}}]),a}(i.a.Component),Dt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){if(0===this.props.events.length){var e={eventId:0,key:"empty_"+this.props.date,dateRowSpan:1,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:"",type:"",distance:0,movingTime:0,title:"",ol:0,night:0,quality:0,lsd:0,strength:0,alternative:0,forest:0,path:0,namePlanned:"",distancePlanned:0,movingTimePlanned:0,typePlanned:"",skada:0===this.props.days.length||0===this.props.days[0].skada?0:1,sjuk:0===this.props.days.length||0===this.props.days[0].sjuk?0:1};return Object(s.jsx)(kt,{eventsOfDay:[{_id:0}],dayDate:this.props.date,dayName:this.props.dayName,eventData:e,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+e.key)}var t=[],a={key:this.props.events[0]._id,dateRowSpan:this.props.events.length,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[0].name,type:this.props.events[0].type,distance:this.props.events[0].distance,movingTime:this.props.events[0].movingTime,title:this.props.events[0].title,ol:this.props.events[0].ol,night:this.props.events[0].night,quality:this.props.events[0].quality,lsd:this.props.events[0].lsd,strength:this.props.events[0].strength,alternative:this.props.events[0].alternative,forest:this.props.events[0].forest,path:this.props.events[0].path,namePlanned:this.props.events[0].namePlanned,distancePlanned:this.props.events[0].distancePlanned,movingTimePlanned:this.props.events[0].movingTimePlanned,typePlanned:this.props.events[0].typePlanned,skada:0===this.props.days.length||0===this.props.days[0].skada?0:1,sjuk:0===this.props.days.length||0===this.props.days[0].sjuk?0:1};t.push(Object(s.jsx)(kt,{eventsOfDay:this.props.events,dayDate:this.props.date,dayName:this.props.dayName,eventData:a,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+a.key));for(var i=1;i<this.props.events.length;i++){var r={key:this.props.events[i]._id,dateRowSpan:0,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[i].name,type:this.props.events[i].type,distance:this.props.events[i].distance,movingTime:this.props.events[i].movingTime,title:this.props.events[i].title,ol:this.props.events[i].ol,night:this.props.events[i].night,quality:this.props.events[i].quality,lsd:this.props.events[i].lsd,strength:this.props.events[i].strength,alternative:this.props.events[i].alternative,forest:this.props.events[i].forest,path:this.props.events[i].path,namePlanned:this.props.events[i].namePlanned,distancePlanned:this.props.events[i].distancePlanned,movingTimePlanned:this.props.events[i].movingTimePlanned,typePlanned:this.props.events[i].typePlanned,skada:0===this.props.days.length||0===this.props.days[0].skada?0:1,sjuk:0===this.props.days.length||0===this.props.days[0].sjuk?0:1};t.push(Object(s.jsx)(kt,{eventsOfDay:this.props.events,dayDate:this.props.date,dayName:this.props.dayName,eventData:r,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+r.key))}return Object(s.jsx)(n.Fragment,{children:t})}}]),a}(i.a.Component);B()(O.a);var St=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={plannedIsHidden:!1,performedIsHidden:!1},e.hidePlanned=function(){e.setState({plannedIsHidden:!0})},e.showPlanned=function(){e.setState({plannedIsHidden:!1})},e.hidePerformed=function(){e.setState({performedIsHidden:!0})},e.showPerformed=function(){e.setState({performedIsHidden:!1})},e.getWeekLength=function(e){var t=0;return e.map((function(e){var a=e.distance;return t+=a})),t<1e3?t+" m":Math.round(10*t/1e3)/10+" km"},e.getWeekTime=function(e){var t=0;return e.map((function(e){var a=e.movingTime;return t+=a})),O.a.duration(t,"seconds").format("H:mm")},e}return Object(h.a)(a,[{key:"NoOfOl",value:function(e){var t=0;return e.map((function(e){var a=e.ol;return t+=a})),t}},{key:"NoOfNight",value:function(e){var t=0;return e.map((function(e){var a=e.night;return t+=a})),t}},{key:"NoOfQuality",value:function(e){var t=0;return e.map((function(e){var a=e.quality;return t+=a})),t}},{key:"NoOfLsd",value:function(e){var t=0;return e.map((function(e){var a=e.lsd;return t+=a})),t}},{key:"NoOfStrength",value:function(e){var t=0;return e.map((function(e){var a=e.strength;return t+=a})),t}},{key:"NoOfAlternative",value:function(e){var t=0;return e.map((function(e){var a=e.alternative;return t+=a})),t}},{key:"NoOfForest",value:function(e){var t=0;return e.map((function(e){var a=e.forest;return t+=a})),t}},{key:"NoOfPath",value:function(e){var t=0;return e.map((function(e){var a=e.path;return t+=a})),t}},{key:"NoOfSkada",value:function(e){for(var t=0,a=0;a<e.length;a++)void 0!==e[a].skada&&1===e[a].skada&&t++;return t}},{key:"NoOfSjuk",value:function(e){for(var t=0,a=0;a<e.length;a++)void 0!==e[a].sjuk&&1===e[a].sjuk&&t++;return t}},{key:"render",value:function(){if(null===this.props.user)return Object(s.jsx)("div",{});for(var e=O()(this.props.dateStart),t=O()(this.props.dateEnd),a=[];t.isSameOrAfter(e,"day");){var n=this.props.activities.filter((function(t){return O()(t.startDate).isSame(e,"day")})),i=this.props.days.filter((function(t){return O()(t.startDate).isSame(e,"day")}));a.push(Object(s.jsx)(Dt,{date:e.format("YYYY-MM-DD"),dayName:e.locale("sv").format("dddd").charAt(0).toUpperCase()+e.locale("sv").format("dddd").slice(1),events:n,days:i,plannedIsHidden:this.state.plannedIsHidden,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.state.performedIsHidden},e)),e.add(1,"d")}var r={cell:{borderRight:"1px solid gray",padding:"5px"},cellPlanned:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"lightBlue"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"20px"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellPlanned:{borderRight:"1px solid gray",padding:"0",width:"20px",backgroundColor:"lightBlue"},summaryCell:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"gray",color:"white",fontWeight:"bold"},smallSummaryCell:{borderRight:"1px solid gray",padding:"1px",backgroundColor:"gray",color:"white",fontWeight:"bold"}};return Object(s.jsx)($.a,{component:A.a,children:Object(s.jsxs)(V.a,{"aria-label":"spanning table",style:{borderTop:"1px solid gray"},children:[Object(s.jsxs)(Q.a,{children:[Object(s.jsxs)(z.a,{children:[Object(s.jsx)(X.a,{rowSpan:2,style:r.editCell}),Object(s.jsx)(X.a,{rowSpan:2,style:r.dateCell,align:"left",children:"Datum"}),this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:r.hiddenCellPlanned,children:Object(s.jsx)(S.a,{onClick:this.showPlanned,children:Object(s.jsx)(ae.a,{})})}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{colSpan:4,style:r.cellPlanned,children:Object(s.jsxs)(P.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(P.a,{p:1,flexGrow:1,padding:0,children:"Planerad"}),Object(s.jsx)(P.a,{p:1,padding:0,children:Object(s.jsx)(S.a,{onClick:this.hidePlanned,children:Object(s.jsx)(ee.a,{})})})]})}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:r.hiddenCell,children:Object(s.jsx)(S.a,{onClick:this.showPerformed,children:Object(s.jsx)(ae.a,{})})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{colSpan:14,style:r.cell,children:Object(s.jsxs)(P.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(P.a,{p:1,flexGrow:1,padding:0,children:"Utf\xf6rd"}),Object(s.jsx)(P.a,{p:1,padding:0,children:Object(s.jsx)(S.a,{onClick:this.hidePerformed,children:Object(s.jsx)(ee.a,{})})})]})})]}),Object(s.jsxs)(z.a,{children:[this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:r.hiddenCellPlanned}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:r.cellPlanned,children:"Beskrivning"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.cellPlanned,children:"Typ"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:r.cellPlanned,children:"L\xe4ngd"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:r.cellPlanned,children:"Tid"}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:r.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:r.cell,children:"Beskrivning"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.cell,children:"Typ"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"OL"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Natt"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Q"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"LP"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Sty"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Alt"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Skog"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Stig"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:r.cell,children:"L\xe4ngd"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:r.cell,children:"Tid"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Skada"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallCell,children:"Sjuk"})]})]}),Object(s.jsxs)(J.a,{children:[a,Object(s.jsxs)(z.a,{children:[Object(s.jsx)(X.a,{colSpan:2,style:r.summaryCell}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:r.summaryCell,colSpan:4}),this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:r.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{colSpan:2,style:r.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfOl(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfNight(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfQuality(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfLsd(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfStrength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfAlternative(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfForest(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfPath(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:r.summaryCell,children:this.getWeekLength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:r.summaryCell,children:this.getWeekTime(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfSkada(this.props.days)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:r.smallSummaryCell,children:this.NoOfSjuk(this.props.days)}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:r.summaryCell})]},"summaryRow")]})]})})}}]),a}(i.a.Component);function Ct(e){return void 0===e||0===e||""===e||"0"===e?"":e<1e3?e+" m":Math.round(100*e/1e3)/100+" km"}function It(e){return void 0===e||null===e||""===e||0===e||"0"===e?"":O.a.duration(e,"seconds").format("H:mm")}function Pt(e){switch(e){case"ol":return Object(s.jsx)("img",{src:"/olskarm.png",alt:"OL",height:16,width:16,style:{border:"solid black 1px"}});case"night":return Object(s.jsx)(ke.a,{});case"Run":return Object(s.jsx)(pe.a,{});case"WeightTraining":return Object(s.jsx)(je.a,{});case"Workout":return Object(s.jsx)(ye.a,{});case"Ride":case"VirtualRide":return Object(s.jsx)(me.a,{});case"Swim":return Object(s.jsx)(be.a,{});case"Walk":return Object(s.jsx)(xe.a,{});case"Rowing":case"Kayaking":return Object(s.jsx)("img",{src:"/kayak.png",alt:"Kayak",height:16,width:16});case"NordicSki":case"RollerSki":return Object(s.jsx)("img",{src:"/ski.png",alt:"Ski",height:16,width:16});default:return e}}B()(O.a);var wt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={name:"",movingTime:"0",distance:0,type:"",ol:!1,night:!1,quality:!1,lsd:!1,strength:!1,alternative:!1,forest:!1,path:!1,skada:!1,sjuk:!1,namePlanned:"",distancePlanned:0,movingTimePlanned:"0",typePlanned:""},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({name:null===this.props.eventData.name?"":this.props.eventData.name}),this.setState({movingTime:It(this.props.eventData.movingTime)}),this.setState({distance:this.props.eventData.distance}),this.setState({type:this.props.eventData.type}),this.setState({ol:1===this.props.eventData.ol}),this.setState({night:1===this.props.eventData.night}),this.setState({quality:1===this.props.eventData.quality}),this.setState({lsd:1===this.props.eventData.lsd}),this.setState({strength:1===this.props.eventData.strength}),this.setState({alternative:1===this.props.eventData.alternative}),this.setState({forest:1===this.props.eventData.forest}),this.setState({path:1===this.props.eventData.path}),this.setState({skada:1===this.props.eventData.skada}),this.setState({sjuk:1===this.props.eventData.sjuk}),this.setState({movingTimePlanned:null===this.props.eventData.movingTimePlanned||void 0===this.props.eventData.movingTimePlanned?"":It(this.props.eventData.movingTimePlanned)}),this.setState({distancePlanned:null===this.props.eventData.distancePlanned||void 0===this.props.eventData.distancePlanned?"":this.props.eventData.distancePlanned}),this.setState({typePlanned:null===this.props.eventData.typePlanned?"":this.props.eventData.typePlanned}),this.setState({namePlanned:null===this.props.eventData.namePlanned?"":this.props.eventData.namePlanned})}},{key:"render",value:function(){var e={cell:{borderRight:"1px solid gray",padding:"5px"},cellSunday:{borderRight:"1px solid gray",borderBottom:"3px solid gray",padding:"5px"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"30px",textAlign:"center"},smallCellSunday:{borderRight:"1px solid gray",borderBottom:"3px solid gray",padding:"2px",width:"30px",textAlign:"center"},dataCell:{borderRight:"1px solid gray",padding:"5px",width:"80px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},dateCellSunday:{borderRight:"1px solid gray",borderBottom:"3px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellSunday:{borderRight:"1px solid gray",borderBottom:"3px solid gray",padding:"0",width:"20px"},checkbox:{width:"16px",height:"16px"}};return Object(s.jsxs)(z.a,{children:[this.props.eventData.dateRowSpan>0&&Object(s.jsxs)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:"S\xf6ndag"===this.props.dayName?e.dateCellSunday:e.dateCell,align:"left",children:[this.props.dayName,Object(s.jsx)("br",{}),this.props.eventData.date]}),this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.hiddenCellSunday:e.hiddenCell}),!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:this.props.eventData.namePlanned}),!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:Pt(this.props.eventData.typePlanned)}),!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:Ct(this.props.eventData.distancePlanned)}),!this.props.eventData.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:It(this.props.eventData.movingTimePlanned)}),!this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:this.props.eventData.name}),!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:Pt(this.props.eventData.type)}),!this.props.performedIsHidden&&1===this.props.eventData.ol&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.ol&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.night&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.night&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.quality&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.quality&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.lsd&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.lsd&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.strength&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.strength&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.alternative&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.alternative&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.forest&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.forest&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&1===this.props.eventData.path&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),!this.props.performedIsHidden&&0===this.props.eventData.path&&Object(s.jsx)(X.a,{align:"center",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,children:"\xa0"}),!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:Ct(this.props.eventData.distance)}),!this.props.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,children:It(this.props.eventData.movingTime)}),this.props.eventData.dateRowSpan>0&&!this.props.performedIsHidden&&1===this.props.eventData.skada&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,align:"left",children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),this.props.eventData.dateRowSpan>0&&!this.props.performedIsHidden&&0===this.props.eventData.skada&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,align:"left",children:"\xa0"}),this.props.eventData.dateRowSpan>0&&!this.props.performedIsHidden&&1===this.props.eventData.sjuk&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,align:"left",children:Object(s.jsx)(L.a,{checked:!0,disabled:!0,style:e.checkbox})}),this.props.eventData.dateRowSpan>0&&!this.props.performedIsHidden&&0===this.props.eventData.sjuk&&Object(s.jsx)(X.a,{rowSpan:this.props.eventData.dateRowSpan,style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.smallCellSunday:e.smallCell,align:"left",children:"\xa0"}),this.props.performedIsHidden&&Object(s.jsx)(X.a,{style:"S\xf6ndag"===this.props.dayName&&this.props.eventData.isLastEvent?e.cellSunday:e.cell,colSpan:"12"})]},this.props.eventData.key)}}]),a}(i.a.Component),Ht=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){if(0===this.props.events.length){var e={isLastEvent:!0,key:"empty_"+this.props.date,dateRowSpan:1,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:"Vila",type:"",distance:0,movingTime:0,title:"",ol:0,night:0,quality:0,lsd:0,strength:0,alternative:0,forest:0,path:0,namePlanned:"",distancePlanned:0,movingTimePlanned:0,typePlanned:"",skada:0===this.props.days.length||0===this.props.days[0].skada?0:1,sjuk:0===this.props.days.length||0===this.props.days[0].sjuk?0:1};return Object(s.jsx)(wt,{dayDate:this.props.date,dayName:this.props.dayName,eventData:e,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+e.key)}var t=[],a={isLastEvent:1===this.props.events.length,key:this.props.events[0]._id,dateRowSpan:this.props.events.length,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[0].name,type:this.props.events[0].type,distance:this.props.events[0].distance,movingTime:this.props.events[0].movingTime,title:this.props.events[0].title,ol:this.props.events[0].ol,night:this.props.events[0].night,quality:this.props.events[0].quality,lsd:this.props.events[0].lsd,strength:this.props.events[0].strength,alternative:this.props.events[0].alternative,forest:this.props.events[0].forest,path:this.props.events[0].path,namePlanned:this.props.events[0].namePlanned,distancePlanned:this.props.events[0].distancePlanned,movingTimePlanned:this.props.events[0].movingTimePlanned,typePlanned:this.props.events[0].typePlanned,skada:0===this.props.days.length||0===this.props.days[0].skada?0:1,sjuk:0===this.props.days.length||0===this.props.days[0].sjuk?0:1};t.push(Object(s.jsx)(wt,{dayDate:this.props.date,dayName:this.props.dayName,eventData:a,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+a.key));for(var i=1;i<this.props.events.length;i++){var r={isLastEvent:i===this.props.events.length-1,key:this.props.events[i]._id,dateRowSpan:0,date:this.props.date,plannedIsHidden:this.props.plannedIsHidden,name:this.props.events[i].name,type:this.props.events[i].type,distance:this.props.events[i].distance,movingTime:this.props.events[i].movingTime,title:this.props.events[i].title,ol:this.props.events[i].ol,night:this.props.events[i].night,quality:this.props.events[i].quality,lsd:this.props.events[i].lsd,strength:this.props.events[i].strength,alternative:this.props.events[i].alternative,forest:this.props.events[i].forest,path:this.props.events[i].path,namePlanned:this.props.events[i].namePlanned,distancePlanned:this.props.events[i].distancePlanned,movingTimePlanned:this.props.events[i].movingTimePlanned,typePlanned:this.props.events[i].typePlanned,skada:0===this.props.days.length||0===this.props.days[0].skada?0:1,sjuk:0===this.props.days.length||0===this.props.days[0].sjuk?0:1};t.push(Object(s.jsx)(wt,{dayDate:this.props.date,dayName:this.props.dayName,eventData:r,user:this.props.user,upDatePage:this.props.upDatePage,performedIsHidden:this.props.performedIsHidden},"weekEvent_"+r.key))}return Object(s.jsx)(n.Fragment,{children:t})}}]),a}(i.a.Component),Et=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={plannedIsHidden:!1,performedIsHidden:!1},e.hidePlanned=function(){e.setState({plannedIsHidden:!0})},e.showPlanned=function(){e.setState({plannedIsHidden:!1})},e.hidePerformed=function(){e.setState({performedIsHidden:!0})},e.showPerformed=function(){e.setState({performedIsHidden:!1})},e.getMonthLength=function(e){var t=0;return e.map((function(e){var a=e.distance;return t+=a})),t<1e3?t+" m":Math.round(10*t/1e3)/10+" km"},e.getMonthTime=function(e){var t=0;return e.map((function(e){var a=e.movingTime;return t+=a})),O.a.duration(t,"seconds").format("H:mm")},e}return Object(h.a)(a,[{key:"NoOfOl",value:function(e){var t=0;return e.map((function(e){var a=e.ol;return t+=a})),t}},{key:"NoOfNight",value:function(e){var t=0;return e.map((function(e){var a=e.night;return t+=a})),t}},{key:"NoOfQuality",value:function(e){var t=0;return e.map((function(e){var a=e.quality;return t+=a})),t}},{key:"NoOfLsd",value:function(e){var t=0;return e.map((function(e){var a=e.lsd;return t+=a})),t}},{key:"NoOfStrength",value:function(e){var t=0;return e.map((function(e){var a=e.strength;return t+=a})),t}},{key:"NoOfAlternative",value:function(e){var t=0;return e.map((function(e){var a=e.alternative;return t+=a})),t}},{key:"NoOfForest",value:function(e){var t=0;return e.map((function(e){var a=e.forest;return t+=a})),t}},{key:"NoOfPath",value:function(e){var t=0;return e.map((function(e){var a=e.path;return t+=a})),t}},{key:"NoOfSkada",value:function(e){for(var t=0,a=0;a<e.length;a++)void 0!==e[a].skada&&1===e[a].skada&&t++;return t}},{key:"NoOfSjuk",value:function(e){for(var t=0,a=0;a<e.length;a++)void 0!==e[a].sjuk&&1===e[a].sjuk&&t++;return t}},{key:"render",value:function(){for(var e=O()(this.props.dateStart),t=O()(this.props.dateEnd),a=[],n={cell:{borderRight:"1px solid gray",padding:"5px"},cellPlanned:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"lightBlue"},smallCell:{borderRight:"1px solid gray",padding:"2px",width:"20px"},editCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},dateCell:{borderRight:"1px solid gray",padding:"5px",width:"80px",backgroundColor:"lightGray"},hiddenCell:{borderRight:"1px solid gray",padding:"0",width:"20px"},hiddenCellPlanned:{borderRight:"1px solid gray",padding:"0",width:"20px",backgroundColor:"lightBlue"},summaryCell:{borderRight:"1px solid gray",padding:"5px",backgroundColor:"gray",color:"white",fontWeight:"bold"},smallSummaryCell:{borderRight:"1px solid gray",padding:"1px",backgroundColor:"gray",color:"white",fontWeight:"bold"}};t.isSameOrAfter(e,"day");){var i=this.props.activities.filter((function(t){return O()(t.startDate).isSame(e,"day")})),r=this.props.days.filter((function(t){return O()(t.startDate).isSame(e,"day")}));a.push(Object(s.jsx)(Ht,{date:e.format("YYYY-MM-DD"),dayName:e.locale("sv").format("dddd").charAt(0).toUpperCase()+e.locale("sv").format("dddd").slice(1),events:i,days:r,plannedIsHidden:this.state.plannedIsHidden,performedIsHidden:this.state.performedIsHidden,user:this.props.user},e)),e.add(1,"d")}return null===this.props.user?Object(s.jsx)("div",{}):Object(s.jsx)($.a,{component:A.a,children:Object(s.jsxs)(V.a,{"aria-label":"spanning table",style:{borderTop:"1px solid gray"},children:[Object(s.jsxs)(Q.a,{children:[Object(s.jsxs)(z.a,{children:[Object(s.jsx)(X.a,{rowSpan:2,style:n.dateCell,align:"left",children:"Datum"}),this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:n.hiddenCellPlanned,children:Object(s.jsx)(S.a,{onClick:this.showPlanned,children:Object(s.jsx)(ae.a,{})})}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{colSpan:4,style:n.cellPlanned,children:Object(s.jsxs)(P.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(P.a,{p:1,flexGrow:1,padding:0,children:"Planerad"}),Object(s.jsx)(P.a,{p:1,padding:0,children:Object(s.jsx)(S.a,{onClick:this.hidePlanned,children:Object(s.jsx)(ee.a,{})})})]})}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:n.hiddenCell,children:Object(s.jsx)(S.a,{onClick:this.showPerformed,children:Object(s.jsx)(ae.a,{})})}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{colSpan:14,style:n.cell,children:Object(s.jsxs)(P.a,{display:"flex",p:1,padding:0,alignitems:"center",children:[Object(s.jsx)(P.a,{p:1,flexGrow:1,padding:0,children:"Utf\xf6rd"}),Object(s.jsx)(P.a,{p:1,padding:0,children:Object(s.jsx)(S.a,{onClick:this.hidePerformed,children:Object(s.jsx)(ee.a,{})})})]})})]}),Object(s.jsxs)(z.a,{children:[this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:n.hiddenCellPlanned}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:n.cellPlanned,children:"Beskrivning"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.cellPlanned,children:"Typ"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.cellPlanned,children:"L\xe4ngd"}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.cellPlanned,children:"Tid"}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:n.hiddenCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:n.cell,children:"Beskrivning"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.cell,children:"Typ"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"OL"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"Natt"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"Q"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"LP"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"Sty"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"Alt"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"Skog"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallCell,children:"Stig"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.cell,children:"L\xe4ngd"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.cell,children:"Tid"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.cell,children:"Skada"}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.cell,children:"Sjuk"})]})]}),Object(s.jsxs)(J.a,{children:[a,Object(s.jsxs)(z.a,{children:[Object(s.jsx)(X.a,{style:n.summaryCell}),!this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:n.summaryCell,colSpan:4}),this.state.plannedIsHidden&&Object(s.jsx)(X.a,{style:n.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{colSpan:2,style:n.summaryCell}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfOl(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfNight(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfQuality(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfLsd(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfStrength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfAlternative(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfForest(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfPath(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.summaryCell,children:this.getMonthLength(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"right",style:n.summaryCell,children:this.getMonthTime(this.props.activities)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfSkada(this.props.days)}),!this.state.performedIsHidden&&Object(s.jsx)(X.a,{align:"center",style:n.smallSummaryCell,children:this.NoOfSjuk(this.props.days)}),this.state.performedIsHidden&&Object(s.jsx)(X.a,{style:n.summaryCell})]},"summaryRow")]})]})})}}]),a}(i.a.Component),Yt=a(133),Tt=a.n(Yt),Mt="https://trbokbackend.niklasking.com",Nt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={dateStart:O()().add(-1,"year").startOf("isoWeek").startOf("day").format("YYYY-MM-DD HH:mm:ss"),dateEnd:O()().endOf("day").format("YYYY-MM-DD HH:mm:ss"),categories:[],seriesData:[],series:[{name:"Tid per vecka",data:[]}],options:{chart:{id:"chart-week",zoom:{enabled:!0}},xaxis:{categories:[],tickPlacement:"on"},yaxis:{labels:{formatter:function(e){return O.a.duration(e,"seconds").format("H:mm")}}},dataLabels:{enabled:!1},title:{text:"Tid per vecka",floating:!0,offsetY:0,align:"center",style:{color:"#444"}}}},e.componentDidMount=Object(o.a)(c.a.mark((function t(){var a,s,n,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Mt+"/api/v1/summary/week?userStravaId="+e.props.user.stravaId+"&dateStart="+e.state.dateStart+"&dateEnd="+e.state.dateEnd,t.next=3,v.a.get(a);case 3:for(s=t.sent,n=[],i=[],r=0;r<s.data.length;r++)n.push(s.data[r]._id.year+"-"+s.data[r]._id.week),i.push(s.data[r].sumTime);e.setState({categories:n}),e.setState({seriesData:i}),e.setState({series:[{name:"Tid per vecka",data:i}]}),e.setState({options:{chart:{id:"chart-week",zoom:{enabled:!0}},xaxis:{categories:n,tickPlacement:"on"},yaxis:{labels:{formatter:function(e){return O.a.duration(e,"seconds").format("H:mm")}}},dataLabels:{enabled:!1},title:{text:"Tid per vecka",floating:!0,offsetY:0,align:"center",style:{color:"#444"}}}});case 11:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(Tt.a,{options:this.state.options,series:this.state.series,type:"bar",height:400})})}}]),a}(i.a.Component),Rt=function(e){return O.a.locale("sv"),"week"===e.selectedTab?Object(s.jsxs)("div",{className:"ui grid",style:{padding:10},children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"ui primary button left floated column two wide",onClick:e.getEarlierWeek,children:"<< Tidigare"}),Object(s.jsx)("div",{className:"ui primary button right floated column two wide",onClick:e.getLaterWeek,children:"Senare >>"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(St,{activities:e.activities,days:e.days,dateStart:e.dateStart,dateEnd:e.dateEnd,user:e.user,upDatePage:e.upDatePage})})]}):"month"===e.selectedTab?Object(s.jsxs)("div",{className:"ui grid",style:{padding:10},children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"ui primary button left floated column two wide",onClick:e.getEarlierMonth,children:"<< Tidigare"}),Object(s.jsx)("div",{children:Object(s.jsx)("h3",{children:O()(e.dateStart).format("MMMM YYYY").charAt(0).toUpperCase()+O()(e.dateStart).format("MMMM YYYY").slice(1)})}),Object(s.jsx)("div",{className:"ui primary button right floated column two wide",onClick:e.getLaterMonth,children:"Senare >>"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(Et,{activities:e.activities,days:e.days,dateStart:e.dateStart,dateEnd:e.dateEnd,user:e.user})})]}):Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(Nt,{activities:e.activities,dateStart:e.dateStart,dateEnd:e.dateEnd,user:e.user})})},Lt="https://trbokbackend.niklasking.com",Wt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={activities:[],days:[],dateStart:O()().startOf("isoWeek").format("YYYY-MM-DD"),dateEnd:O()().endOf("isoWeek").format("YYYY-MM-DD"),selectedTab:"week"},e.onWeekTabClick=function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a&&a.preventDefault(),e.setState({selectedTab:"week"}),e.setState({dateStart:O()().startOf("isoWeek").format("YYYY-MM-DD")}),e.setState({dateEnd:O()().endOf("isoWeek").format("YYYY-MM-DD")}),null===e.props.loggedInUser){t.next=17;break}return t.t0=e,t.next=8,e.props.fetchActivities(O()().startOf("isoWeek").format("YYYY-MM-DD"),O()().endOf("isoWeek").format("YYYY-MM-DD"));case 8:return t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=e,t.next=14,e.props.fetchDays(O()().startOf("isoWeek").format("YYYY-MM-DD"),O()().endOf("isoWeek").format("YYYY-MM-DD"));case 14:t.t4=t.sent,t.t5={days:t.t4},t.t3.setState.call(t.t3,t.t5);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onMonthTabClick=function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState({selectedTab:"month"}),e.setState({dateStart:O()().startOf("month").format("YYYY-MM-DD"),dateEnd:O()().endOf("month").format("YYYY-MM-DD")}),null===e.props.loggedInUser){t.next=16;break}return t.t0=e,t.next=7,e.props.fetchActivities(O()().startOf("month").format("YYYY-MM-DD"),O()().endOf("month").format("YYYY-MM-DD"));case 7:return t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=e,t.next=13,e.props.fetchDays(O()().startOf("month").format("YYYY-MM-DD"),O()().endOf("month").format("YYYY-MM-DD"));case 13:t.t4=t.sent,t.t5={days:t.t4},t.t3.setState.call(t.t3,t.t5);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onStatTabClick=function(t){t.preventDefault(),e.setState({selectedTab:"stat"})},e.getEarlierWeek=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=15;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(-7,"d").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(-7,"d").format("YYYY-MM-DD"));case 4:return t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=e,t.next=10,e.props.fetchDays(O()(e.state.dateStart).add(-7,"d").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(-7,"d").format("YYYY-MM-DD"));case 10:t.t4=t.sent,t.t5={days:t.t4},t.t3.setState.call(t.t3,t.t5),e.setState({dateStart:O()(e.state.dateStart).add(-7,"d").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(-7,"d").format("YYYY-MM-DD")});case 15:case"end":return t.stop()}}),t)}))),e.getLaterWeek=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=15;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(7,"d").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(7,"d").format("YYYY-MM-DD"));case 4:return t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=e,t.next=10,e.props.fetchDays(O()(e.state.dateStart).add(7,"d").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(7,"d").format("YYYY-MM-DD"));case 10:t.t4=t.sent,t.t5={days:t.t4},t.t3.setState.call(t.t3,t.t5),e.setState({dateStart:O()(e.state.dateStart).add(7,"d").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(7,"d").format("YYYY-MM-DD")});case 15:case"end":return t.stop()}}),t)}))),e.getEarlierMonth=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=15;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(-1,"M").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(-1,"M").format("YYYY-MM-DD"));case 4:return t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=e,t.next=10,e.props.fetchDays(O()(e.state.dateStart).add(-1,"M").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(-1,"M").format("YYYY-MM-DD"));case 10:t.t4=t.sent,t.t5={days:t.t4},t.t3.setState.call(t.t3,t.t5),e.setState({dateStart:O()(e.state.dateStart).add(-1,"M").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(-1,"M").format("YYYY-MM-DD")});case 15:case"end":return t.stop()}}),t)}))),e.getLaterMonth=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.loggedInUser){t.next=15;break}return t.t0=e,t.next=4,e.props.fetchActivities(O()(e.state.dateStart).add(1,"M").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(1,"M").format("YYYY-MM-DD"));case 4:return t.t1=t.sent,t.t2={activities:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=e,t.next=10,e.props.fetchDays(O()(e.state.dateStart).add(1,"M").format("YYYY-MM-DD"),O()(e.state.dateEnd).add(1,"M").format("YYYY-MM-DD"));case 10:t.t4=t.sent,t.t5={days:t.t4},t.t3.setState.call(t.t3,t.t5),e.setState({dateStart:O()(e.state.dateStart).add(1,"M").format("YYYY-MM-DD")}),e.setState({dateEnd:O()(e.state.dateEnd).add(1,"M").format("YYYY-MM-DD")});case 15:case"end":return t.stop()}}),t)}))),e.fetchUpdatedActivities=Object(o.a)(c.a.mark((function t(){var a,s,n,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O()(e.state.dateEnd).add(1,"d").format("YYYY-MM-DD"),s=Lt+"/api/v1/activities?dateStart="+e.state.dateStart+"&dateEnd="+a+"&user="+e.props.loggedInUser._id,t.next=4,v.a.get(s);case 4:return n=t.sent,e.setState({activities:n.data}),i=Lt+"/api/v1/days?dateStart="+e.state.dateStart+"&dateEnd="+a+"&user="+e.props.loggedInUser._id,t.next=9,v.a.get(i);case 9:r=t.sent,e.setState({days:r.data});case 11:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.onWeekTabClick(null)}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"ui top attached tabular menu",children:[Object(s.jsx)("a",{className:"week"===this.state.selectedTab?"item active":"item",href:"/",onClick:this.onWeekTabClick,children:"Vecka"}),Object(s.jsx)("a",{className:"month"===this.state.selectedTab?"item active":"item",href:"/",onClick:this.onMonthTabClick,children:"M\xe5nad"}),Object(s.jsx)("a",{className:"stat"===this.state.selectedTab?"item active":"item",href:"/",onClick:this.onStatTabClick,children:"Statistik"})]},"trDataConfigView"),Object(s.jsx)("div",{className:"ui bottom attached segment",children:Object(s.jsx)(Rt,{selectedTab:this.state.selectedTab,activities:this.state.activities,days:this.state.days,dateStart:this.state.dateStart,dateEnd:this.state.dateEnd,getEarlierWeek:this.getEarlierWeek,getLaterWeek:this.getLaterWeek,getEarlierMonth:this.getEarlierMonth,getLaterMonth:this.getLaterMonth,user:this.props.loggedInUser,upDatePage:this.fetchUpdatedActivities})},"trDataView")]})}}]),a}(i.a.Component),At=a(256),qt=a(191);function _t(){return Object(s.jsxs)(D.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(s.jsx)(W.a,{color:"inherit",href:"http://www.okorion.com/",children:"OK Orion Stars FC"})," ",(new Date).getFullYear(),"."]})}var Ut=Object(_.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ft(){var e=Ut(),t=(Object(u.f)(),function(){var e=Object(o.a)(c.a.mark((function e(t){var a,s,n,i,r,l,d,o,p,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements,s=a.name,n=a.username,i=a.email,r=a.password,l=a.useStrava,d=a.isPrivate,o={name:s.value,username:n.value,email:i.value,password:r.value,useStrava:!!l.checked,private:!!d.checked},e.next=5,v.a.post("https://trbokbackend.niklasking.com/api/v1/register",o);case 5:(p=e.sent).data.success?o.useStrava&&(h="https://www.strava.com/oauth/authorize?client_id="+qt.clientID+"&redirect_uri=https://trbokbackend.niklasking.com/stravaCallback&response_type=code&approval_promp=auto&scope=activity:read_all&state="+p.data.user._id,window.location.href=h):console.log(p.data.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(s.jsxs)(At.a,{component:"main",maxWidth:"xs",children:[Object(s.jsx)(M.a,{}),Object(s.jsxs)("div",{className:e.paper,children:[Object(s.jsx)(T.a,{className:e.avatar,children:Object(s.jsx)(Y.a,{})}),Object(s.jsx)(D.a,{component:"h1",variant:"h5",children:"Skapa en ny anv\xe4ndare"}),Object(s.jsxs)("form",{className:e.form,onSubmit:t,children:[Object(s.jsxs)(q.a,{container:!0,spacing:2,children:[Object(s.jsx)(q.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Namn",autoFocus:!0})}),Object(s.jsx)(q.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Anv\xe4ndarnamn",name:"username",autoComplete:"username"})}),Object(s.jsx)(q.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{variant:"outlined",fullWidth:!0,id:"email",label:"E-postadress",name:"email",autoComplete:"email"})}),Object(s.jsx)(q.a,{item:!0,xs:12,children:Object(s.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"L\xf6senord",type:"password",id:"password",autoComplete:"current-password"})}),Object(s.jsx)(q.a,{item:!0,xs:12,children:Object(s.jsx)(R.a,{control:Object(s.jsx)(L.a,{id:"useStrava",value:"useStrava",color:"primary",defaultChecked:!0}),label:"Jag vill h\xe4mta min tr\xe4ning automatiskt fr\xe5n Strava."})}),Object(s.jsx)(q.a,{item:!0,xs:12,children:Object(s.jsx)(R.a,{control:Object(s.jsx)(L.a,{id:"isPrivate",value:"isPrivate",color:"primary"}),label:"Jag vill vara privat och vill inte dela min tr\xe4ning med andra."})})]}),Object(s.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Skapa anv\xe4ndare"}),Object(s.jsx)(q.a,{container:!0,justify:"flex-end",children:Object(s.jsx)(q.a,{item:!0,children:Object(s.jsx)(W.a,{href:"#",variant:"body2",children:"Har du redan en anv\xe4ndare? Logga in ist\xe4llet."})})})]})]}),Object(s.jsx)(P.a,{mt:5,children:Object(s.jsx)(_t,{})})]})}var Kt="https://trbokbackend.niklasking.com",Gt=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null,userName:""},e.setLoggedInUser=function(t){e.setState({loggedInUser:t}),e.setState({userName:t.name})},e.onLogoutClick=function(){e.setState({loggedInUser:null}),e.setState({userName:""})},e.fetchActivities=function(){var t=Object(o.a)(c.a.mark((function t(a,s){var n,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O()(s).add(1,"d").format("YYYY-MM-DD"),n=Kt+"/api/v1/activities?dateStart="+a+"&dateEnd="+s+"&user="+e.state.loggedInUser._id,t.next=4,v.a.get(n);case 4:return i=t.sent,t.abrupt("return",i.data);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.fetchDays=function(){var t=Object(o.a)(c.a.mark((function t(a,s){var n,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O()(s).add(1,"d").format("YYYY-MM-DD"),n=Kt+"/api/v1/days?dateStart="+a+"&dateEnd="+s+"&user="+e.state.loggedInUser._id,t.next=4,v.a.get(n);case 4:return i=t.sent,t.abrupt("return",i.data);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);this.setLoggedInUser(t)}}},{key:"isLoggedIn",value:function(){return null!==this.state.loggedInUser}},{key:"render",value:function(){var e=this;return Object(s.jsx)(m.a,{children:Object(s.jsxs)("div",{style:{padding:"5px"},children:[Object(s.jsx)("div",{children:Object(s.jsx)(y.a,{position:"static",children:Object(s.jsxs)(f.a,{children:[Object(s.jsxs)(P.a,{display:"flex",flexGrow:1,alignItems:"center",children:[Object(s.jsx)(k.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(s.jsx)(I.a,{})}),Object(s.jsx)(D.a,{variant:"h6",children:"OK Orions tr\xe4ningsdagbok"})]}),null!==this.state.loggedInUser&&Object(s.jsx)(H.a,{}),"\xa0\xa0",null!==this.state.loggedInUser&&Object(s.jsx)(D.a,{variant:"h6",children:this.state.userName}),null!==this.state.loggedInUser&&Object(s.jsx)(S.a,{color:"inherit",onClick:this.onLogoutClick,children:Object(s.jsx)(Y.a,{})})]})})}),Object(s.jsx)("div",{children:Object(s.jsxs)(u.c,{children:[null!==this.state.loggedInUser&&Object(s.jsx)(u.a,{exact:!0,path:"/",render:function(t){return Object(s.jsx)(Wt,{loggedInUser:e.state.loggedInUser,fetchActivities:e.fetchActivities,fetchDays:e.fetchDays})}}),null===this.state.loggedInUser&&Object(s.jsx)(u.a,{exact:!0,path:"/",render:function(t){return Object(s.jsx)(K,{setLoggedInUser:e.setLoggedInUser})}}),Object(s.jsx)(u.a,{exact:!0,path:"/register",component:Ft})]})})]})})}}]),a}(i.a.Component);l.a.render(Object(s.jsx)(Gt,{}),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.aaf98252.chunk.js.map